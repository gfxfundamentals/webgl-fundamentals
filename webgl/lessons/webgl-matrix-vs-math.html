<!DOCTYPE html>
<!-- this file is auto-generated from webgl/lessons/webgl-matrix-vs-math.md. Do not edited directly -->
<!--
Copyright 2012, Gregg Tavares.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

*   Redistributions of source code must retain the above copyright
    notice, this list of conditions and the following disclaimer.

*   Redistributions in binary form must reproduce the above
    copyright notice, this list of conditions and the following disclaimer
    in the documentation and/or other materials provided with the
    distribution.

*   Neither the name of Gregg Tavares. nor the names of his
    contributors may be used to endorse or promote products derived from
    this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-->
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta property="og:title" content="WebGL Matrices vs Math Matrices" />
<meta property="og:type" content="website" />
<meta property="og:image" content="http://webglfundamentals.org/webgl/lessons/resources/webglfundamentals.jpg" />
<meta property="og:description" content="The difference between WebGL conventions and Math conventions." />
<meta property="og:url" content="http://webglfundamentals.org/webgl/lessons/webgl-matrix-vs-math.html" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@greggman" />
<meta name="twitter:creator" content="@greggman" />
<meta name="twitter:domain" content="webglfundamentals.org" />
<meta name="twitter:title" content="WebGL Matrices vs Math Matrices" />
<meta name="twitter:url" content="http://webglfundamentals.org/webgl/lessons/webgl-matrix-vs-math.html" />
<meta name="twitter:description" content="The difference between WebGL conventions and Math conventions." />
<meta name="twitter:image:src" content="http://webglfundamentals.org/webgl/lessons/resources/webglfundamentals.jpg" />


<title>WebGL Matrices vs Math Matrices</title>
<link href="/webgl/lessons/resources/webglfundamentals-icon.png" rel="shortcut icon" type="image/png">
<link rel="stylesheet" href="/webgl/lessons/resources/lesson.css" type="text/css" />
</head>
<body>
<div class="webgl_navbar">
  <div>
    <select class="language">
    <option value="/webgl/lessons/webgl-matrix-vs-math.html" selected>English</a>
    <option value="/webgl/lessons/fr/webgl-matrix-vs-math.html" >Français</a>
    <option value="/webgl/lessons/ja/webgl-matrix-vs-math.html" >日本語</a>
    <option value="/webgl/lessons/ko/webgl-matrix-vs-math.html" >한국어</a>
    <option value="/webgl/lessons/pl/webgl-matrix-vs-math.html" >Polski</a>
    <option value="/webgl/lessons/pt-br/webgl-matrix-vs-math.html" >Portuguese</a>
    <option value="/webgl/lessons/ru/webgl-matrix-vs-math.html" >Русский</a>
    <option value="/webgl/lessons/zh_cn/webgl-matrix-vs-math.html" >简体中文</a>
</select>


    <a href="#toc">Table of Contents</a>
  </div>
</div>
<div class="webgl_header">
  <h1><a href="/">WebGLFundamentals.org</a></h1>
</div>


<div class="container">
  <div class="lesson-title">
    <h1>WebGL Matrices vs Math Matrices</h1>
  </div>
  <div class="lesson">
    <div class="lesson-main">
      <p>This is article is an aside from the the various articles that talk about
matrices in particular <a href="webgl-2d-matrices.html">the article that introduces matrices</a> but also
<a href="webgl-3d-orthographic.html">the article that introduces 3D</a>, <a href="webgl-3d-perspective.html">the article on perspective projection</a>,
and <a href="webgl-3d-camera.html">the article on cameras</a>.</p>
<p>In programming generally a row goes from left to right, a column goes up and down.</p>
<blockquote>
<h2 id="col-umn">col·umn</h2>
<p>/ˈkäləm/</p>
<p><em>noun</em></p>
<ol>
<li><p>an upright pillar, typically cylindrical and made of stone or
concrete, supporting an entablature, arch, or other structure or standing alone as a monument.</p>
<p><em>synonyms</em>:    pillar, post, pole, upright, vertical, ...</p>
</li>
<li><p>a vertical division of a page or text.</p>
</li>
</ol>
<h2 id="row">row</h2>
<p>/rō/</p>
<p><em>noun</em></p>
<ul>
<li>a horizontal line of entries in a table.</li>
</ul>
</blockquote>
<p>We can see examples in our software. For example my text editors
shows Lines and columns, lines being another word for row in this case since column is already taken</p>
<div class="webgl_center"><img src="resources/editor-lines-and-columns.gif" class="gman-border-bshadow" style="width: 372px;"></div>

<p>Notice in the bottom left area the status bar shows the line and column.</p>
<p>In spreadsheet software we see rows go across</p>
<div class="webgl_center"><img src="resources/spreadsheet-row.png" style="width: 808px;"></div>

<p>And columns go down.</p>
<div class="webgl_center"><img src="resources/spreadsheet-column.png" style="width: 808px;"></div>

<p>So, when we make a 3x3 of 4x4 matrix in JavaScript for WebGL we make them like this</p>
<pre class="prettyprint"><code class="lang-js">const m3x3 = [
  0, 1, 2,  // row 0
  3, 4, 5,  // row 1
  6, 7, 8,  // row 2
];

const m4x4 = [
   0,  1,  2,  3,  // row 0 
   4,  5,  6,  7,  // row 1
   8,  9, 10, 11,  // row 2
  12, 13, 14, 15,  // row 3
];
</code></pre>
<p>Clearly following the conventions above the first row of <code>m3x3</code> is <code>0, 1, 2</code> and the last row of <code>m4x4</code> is <code>12, 13, 14, 15</code></p>
<p>As we see in <a href="webgl-2d-matrices.html">the first article on matrices</a> to make a fairly standard WebGL 3x3 2D translation matrix the translation values <code>ty</code> and <code>ty</code> go in locations 6 and 7</p>
<pre class="prettyprint"><code class="lang-js">const some3x3TranslationMatrix = [
   1,  0,  0,
   0,  1,  0,
  tx, ty,  1,
];
</code></pre>
<p>or for a 4x4 matrix which is introduced in <a href="webgl-3d-orthographic.html">the first article on 3D</a> the translation goes in locations 12, 13, 14 as in</p>
<pre class="prettyprint"><code class="lang-js">const some4x4TranslationMatrix = [
   1,  0,  0,  0,
   0,  1,  0,  0,
   0,  0,  1,  0,
  tx, ty, tz,  1,
];
</code></pre>
<p>But, there&#39;s an issue. Math conventions for matrix math generally do things in columns. A mathematician would write out a 3x3 translation matrix like this</p>
<div class="webgl_center"><img src="resources/3x3-math-translation-matrix.svg" style="width: 120px;"></div>

<p>and a 4x4 translation matrix like this</p>
<div class="webgl_center"><img src="resources/4x4-math-translation-matrix.svg" style="width: 150px;"></div>

<p>That leaves us with a problem. If we want our matrices to look like
math matrices we might decide to write a 4x4 matrix like this</p>
<pre class="prettyprint"><code class="lang-js">const some4x4TranslationMatrix = [
   1,  0,  0,  tx,
   0,  1,  0,  ty,
   0,  0,  1,  tx,
   0,  0,  0,  1,
];
</code></pre>
<p>Unfortunately doing it like that has issues. As mentioned in <a href="webgl-3d-camera.html">the article on cameras</a> each of the columns of a 4x4 matrix often has a meaning</p>
<p>The first, second, and third columns are often considered the x, y, and z axis respectively and the last column is the position or translation.</p>
<p>One issue is in code it would be no fun to try to get those parts
separately. Want the Z axis? You&#39;d have to do this</p>
<pre class="prettyprint"><code class="lang-js">const zAxis = [
  some4x4Matrix[2],
  some4x4Matrix[6],
  some4x4Matrix[10],
];
</code></pre>
<p>Ugh!</p>
<p>So, the way WebGL, and OpenGL ES on which WebGL is based, gets around this is it calls rows &quot;columns&quot;.</p>
<pre class="prettyprint"><code class="lang-js">const some4x4TranslationMatrix = [
   1,  0,  0,  0,   // this is column 0
   0,  1,  0,  0,   // this is column 1
   0,  0,  1,  0,   // this is column 2
  tx, ty, tz,  1,   // this is column 3
];
</code></pre>
<p>Now it matches the math definition. Comparing to the example above, if we want the Z axis all we need to do is</p>
<pre class="prettyprint"><code class="lang-js">const zAxis = some4x4Matrix.slice(9, 11);
</code></pre>
<p>For those familiar with C++, OpenGL itself requires the 16 values of a 4x4 matrix to be consecutive in memory so in C++ we could create a <code>Vec4</code> struct or class</p>
<pre class="prettyprint"><code class="lang-c++">// C++
struct Vec4 {
  float x;
  float y;
  float z;
  float w;
};
</code></pre>
<p>and we could create a matrix4x4 from 4 of them</p>
<pre class="prettyprint"><code class="lang-c++">// C++
struct Mat4x4 {
  Vec4 x_axis;
  Vec4 y_axis;
  Vec4 z_axis;
  Vec4 translation;
}
</code></pre>
<p>or just</p>
<pre class="prettyprint"><code class="lang-c++">// C++
struct Mat4x4 {
  Vec4 column[4];
}
</code></pre>
<p>And it would just appear to work. </p>
<p>Unfortunately it looks nothing like the math version when you actually declare one statically in code.</p>
<pre class="prettyprint"><code class="lang-C++">// C++
Mat4x4 someTranslationMatrix = {
  {  1,  0,  0,  0, },
  {  0,  1,  0,  0, },
  {  0,  0,  1,  0, },
  { tx, ty, tz,  1, },
};
</code></pre>
<p>Or back to JavaScript where we don&#39;t generally have something like C++ structs.</p>
<pre class="prettyprint"><code class="lang-js">const someTranslationMatrix = [
   1,  0,  0,  0,
   0,  1,  0,  0,
   0,  0,  1,  0,
  tx, ty, tz,  1,
];
</code></pre>
<p>So, with this convention of calling rows &quot;columns&quot; some things are simpler but others can be more confusing if you&#39;re a math person.</p>
<p>I bring all of this up because these articles are written from the POV of a programmer, not a math person. That means like every other single dimensional array that is treated as a 2 dimensional array, rows go across.</p>
<pre class="prettyprint"><code class="lang-js">const someTranslationMatrix = [
   1,  0,  0,  0,  // row 0
   0,  1,  0,  0,  // row 1
   0,  0,  1,  0,  // row 2
  tx, ty, tz,  1,  // row 3
];
</code></pre>
<p>just like</p>
<pre class="prettyprint"><code class="lang-js">// happy face image
const dataFor7x8OneChannelImage = [
    0, 255, 255, 255, 255, 255,   0,  // row 0
  255,   0,   0,   0,   0,   0, 255,  // row 1
  255,   0, 255,   0, 255,   0, 255,  // row 2
  255,   0,   0,   0,   0,   0, 255,  // row 3
  255,   0, 255,   0, 255,   0, 255,  // row 4
  255,   0, 255, 255, 255,   0, 255,  // row 5
  255,   0,   0,   0,   0,   0, 255,  // row 6
    0, 255, 255, 255, 255, 255,   0,  // row 7
]
</code></pre>
<p>and so these articles will refer to them as rows.</p>
<p>If you&#39;re a math person you might find it confusing. I&#39;m sorry I
don&#39;t have a solution. I could call what is clearly row 3 a column
but that would also be confusing since it matches no other programming.</p>
<p>In any case, hopefully this helps clarify why none of the explanations look like something from a math book. Instead they look like code and use the conventions of code. I hope this helps explain what&#39;s going on
and it&#39;s not too confusing for those who are used to math conventions.</p>

    </div>
    <div class="lesson-sidebar">
        <select class="language">
    <option value="/webgl/lessons/webgl-matrix-vs-math.html" selected>English</a>
    <option value="/webgl/lessons/fr/webgl-matrix-vs-math.html" >Français</a>
    <option value="/webgl/lessons/ja/webgl-matrix-vs-math.html" >日本語</a>
    <option value="/webgl/lessons/ko/webgl-matrix-vs-math.html" >한국어</a>
    <option value="/webgl/lessons/pl/webgl-matrix-vs-math.html" >Polski</a>
    <option value="/webgl/lessons/pt-br/webgl-matrix-vs-math.html" >Portuguese</a>
    <option value="/webgl/lessons/ru/webgl-matrix-vs-math.html" >Русский</a>
    <option value="/webgl/lessons/zh_cn/webgl-matrix-vs-math.html" >简体中文</a>
</select>


        <div id="toc">
          <ul>  <li>Fundamentals</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-fundamentals.html">WebGL Fundamentals</a></li>
<li><a href="/webgl/lessons/webgl-how-it-works.html">WebGL How It Works</a></li>
<li><a href="/webgl/lessons/webgl-shaders-and-glsl.html">WebGL Shaders and GLSL</a></li>
        </ul>
  <li>Image Processing</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-image-processing.html">WebGL Image Processing</a></li>
<li><a href="/webgl/lessons/webgl-image-processing-continued.html">WebGL Image Processing Continued</a></li>
        </ul>
  <li>2D translation, rotation, scale, matrix math</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-2d-translation.html">WebGL 2D Translation</a></li>
<li><a href="/webgl/lessons/webgl-2d-rotation.html">WebGL 2D Rotation</a></li>
<li><a href="/webgl/lessons/webgl-2d-scale.html">WebGL 2D Scale</a></li>
<li><a href="/webgl/lessons/webgl-2d-matrices.html">WebGL 2D Matrices</a></li>
        </ul>
  <li>3D</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-3d-orthographic.html">WebGL - Orthographic 3D</a></li>
<li><a href="/webgl/lessons/webgl-3d-perspective.html">WebGL 3D Perspective</a></li>
<li><a href="/webgl/lessons/webgl-3d-camera.html">WebGL 3D - Cameras</a></li>
        </ul>
  <li>Lighting</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-3d-lighting-directional.html">WebGL 3D - Directional Lighting</a></li>
<li><a href="/webgl/lessons/webgl-3d-lighting-point.html">WebGL 3D - Point Lighting</a></li>
<li><a href="/webgl/lessons/webgl-3d-lighting-spot.html">WebGL 3D - Spot Lighting</a></li>
        </ul>
  <li>Structure and Organization</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-less-code-more-fun.html">WebGL - Less Code, More Fun</a></li>
<li><a href="/webgl/lessons/webgl-drawing-multiple-things.html">WebGL - Drawing Multiple Things</a></li>
<li><a href="/webgl/lessons/webgl-scene-graph.html">WebGL - Scene Graphs</a></li>
        </ul>
  <li>Geometry</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-3d-geometry-lathe.html">WebGL 3D Geometry - Lathe</a></li>
        </ul>
  <li>Textures</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-3d-textures.html">WebGL 3D - Textures</a></li>
<li><a href="/webgl/lessons/webgl-data-textures.html">WebGL Data Textures</a></li>
<li><a href="/webgl/lessons/webgl-2-textures.html">WebGL - Using 2 or More Textures</a></li>
<li><a href="/webgl/lessons/webgl-cors-permission.html">WebGL - Cross Origin Images</a></li>
<li><a href="/webgl/lessons/webgl-3d-perspective-correct-texturemapping.html">WebGL 3D - Perspective Correct Texture Mapping</a></li>
        </ul>
  <li>Rendering To A Texture</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-render-to-texture.html">WebGL Render to Texture</a></li>
        </ul>
  <li>Techniques</li>
        <ul>
            <li>2D</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-2d-drawimage.html">WebGL 2D - DrawImage</a></li>
<li><a href="/webgl/lessons/webgl-2d-matrix-stack.html">WebGL 2D - Matrix Stack</a></li>
        </ul>
  <li>3D</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-cube-maps.html">WebGL - Cubemaps</a></li>
<li><a href="/webgl/lessons/webgl-environment-maps.html">WebGL - Environment maps</a></li>
<li><a href="/webgl/lessons/webgl-skybox.html">WebGL - Skyboxes</a></li>
<li><a href="/webgl/lessons/webgl-skinning.html">WebGL - Skinning</a></li>
<li><a href="/webgl/lessons/webgl-fog.html">WebGL - Fog</a></li>
        </ul>
  <li>Text</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-text-html.html">WebGL Text - HTML</a></li>
<li><a href="/webgl/lessons/webgl-text-canvas2d.html">WebGL Text - Canvas 2D</a></li>
<li><a href="/webgl/lessons/webgl-text-texture.html">WebGL Text - Using a Texture</a></li>
<li><a href="/webgl/lessons/webgl-text-glyphs.html">WebGL Text - Using a Glyph Texture</a></li>
        </ul>
        </ul>
  <li>Tips</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-smallest-programs.html">WebGL Smallest Programs</a></li>
<li><a href="/webgl/lessons/webgl-drawing-without-data.html">WebGL Drawing Without Data</a></li>
        </ul>
  <li>Misc</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-setup-and-installation.html">WebGL Setup And Installation</a></li>
<li><a href="/webgl/lessons/webgl-boilerplate.html">WebGL Boilerplate</a></li>
<li><a href="/webgl/lessons/webgl-resizing-the-canvas.html">WebGL Resizing the Canvas</a></li>
<li><a href="/webgl/lessons/webgl-animation.html">WebGL - Animation</a></li>
<li><a href="/webgl/lessons/webgl-and-alpha.html">WebGL and Alpha</a></li>
<li><a href="/webgl/lessons/webgl-2d-vs-3d-library.html">WebGL - 2D vs 3D libraries</a></li>
<li><a href="/webgl/lessons/webgl-anti-patterns.html">WebGL - Anti-Patterns</a></li>
<li><a href="/webgl/lessons/webgl-matrix-vs-math.html">WebGL Matrices vs Math Matrices</a></li>
        </ul>
  <li>Reference</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-attributes.html">WebGL Attributes</a></li>
<li><a href="/webgl/lessons/webgl-texture-units.html">WebGL Texture Units</a></li>
        </ul></ul>
<ul>
  <li><a href="/docs/">Helper API Docs</a></li>
  <li><a href="http://twgljs.org">TWGL, A tiny WebGL helper library</a></li>
  <li><a href="https://github.com/gfxfundamentals/webgl-fundamentals">github</a></li>
</ul>
        </div>
    </div>
    <div class="lesson-comments">
        <div>Questions? <a href="http://stackoverflow.com/questions/tagged/webgl">Ask on stackoverflow</a>.</div>
        <div>Issue/Bug? <a href="http://github.com/gfxfundamentals/webgl-fundamentals/issues">Create an issue on github</a>.</div>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'webglfundamentals'; // required: replace example with your forum shortname
            var disqus_identifier = 'WebGL Matrices vs Math Matrices';
            var disqus_title = 'WebGL Matrices vs Math Matrices';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                if (window.location.hostname.indexOf("webglfundamentals.org") < 0) {
                    return;
                }
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
  </div>
</div>
</body>
<script src="/3rdparty/jquery-1.11.2.min.js"></script>
<script src="/webgl/lessons/resources/prettify.js"></script>
<script src="/webgl/lessons/resources/lesson.js"></script>
<script src="//cdn.webglstats.com/stat.js" defer="defer" async="async"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59804936-1', 'auto');
  ga('send', 'pageview');

</script>


</html>



