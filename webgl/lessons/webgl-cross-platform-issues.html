<!DOCTYPE html>
<!-- this file is auto-generated from webgl/lessons/webgl-cross-platform-issues.md. Do not edited directly -->
<!--
Copyright 2021 GFXFundamentals.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

*   Redistributions of source code must retain the above copyright
    notice, this list of conditions and the following disclaimer.

*   Redistributions in binary form must reproduce the above
    copyright notice, this list of conditions and the following disclaimer
    in the documentation and/or other materials provided with the
    distribution.

*   Neither the name of GFXFundamentals. nor the names of his
    contributors may be used to endorse or promote products derived from
    this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-->
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Things to be aware of when trying to make your WebGL app work everywhere.">
<meta name="keywords" content="webgl graphics">
<meta name="thumbnail" content="https://webglfundamentals.org/webgl/lessons/screenshots/webgl-cross-platform-issues_en.jpg">

<meta property="og:title" content="WebGL Cross Platform Issues">
<meta property="og:type" content="website">
<meta property="og:image" content="https://webglfundamentals.org/webgl/lessons/screenshots/webgl-cross-platform-issues_en.jpg">
<meta property="og:description" content="Things to be aware of when trying to make your WebGL app work everywhere.">
<meta property="og:url" content="https://webglfundamentals.org/webgl/lessons/webgl-cross-platform-issues.html">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@greggman">
<meta name="twitter:creator" content="@greggman">
<meta name="twitter:domain" content="webglfundamentals.org">
<meta name="twitter:title" content="WebGL Cross Platform Issues">
<meta name="twitter:url" content="https://webglfundamentals.org/webgl/lessons/webgl-cross-platform-issues.html">
<meta name="twitter:description" content="Things to be aware of when trying to make your WebGL app work everywhere.">
<meta name="twitter:image:src" content="https://webglfundamentals.org/webgl/lessons/screenshots/webgl-cross-platform-issues_en.jpg">

<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@graph":[
    {
      "@type":"WebSite",
      "@id":"https://webglfundamentals.org/#website",
      "url":"https://webglfundamentals.org/",
      "name":"WebglFundamentals"
    },
    {
      "@type":"ImageObject",
      "@id":"https://webglfundamentals.org/webgl/lessons/webgl-cross-platform-issues.html#primaryimage",
      "url":"https://webglfundamentals.org/webgl/lessons/screenshots/webgl-cross-platform-issues_en.jpg",
      "width":1200,
      "height":630
    },
    {
      "@type":"WebPage",
      "@id":"https://webglfundamentals.org/webgl/lessons/webgl-cross-platform-issues.html#webpage",
      "url":"https://webglfundamentals.org/webgl/lessons/webgl-cross-platform-issues.html",
      "inLanguage":"en",
      "name":"WebGL Cross Platform Issues",
      "keywords":"webgl graphics programming",
      "isPartOf":{
        "@id":"https://webglfundamentals.org/#website"
      },
      "primaryImageOfPage":{
        "@id":"https://webglfundamentals.org/webgl/lessons/webgl-cross-platform-issues.html#primaryimage"
      }
    }
  ]
}
</script>


<title>WebGL Cross Platform Issues</title>
<link href="/webgl/lessons/resources/webglfundamentals-icon.png" rel="shortcut icon" type="image/png">
<link rel="stylesheet" href="/webgl/lessons/lang.css">
<link rel="stylesheet" href="/webgl/lessons/resources/lesson.css">

  <link rel="alternate" hreflang="en" href="https://webglfundamentals.org/webgl/lessons/webgl-cross-platform-issues.html">
  <link rel="alternate" hreflang="fr" href="https://webglfundamentals.org/webgl/lessons/fr/webgl-cross-platform-issues.html">
  <link rel="alternate" hreflang="ja" href="https://webglfundamentals.org/webgl/lessons/ja/webgl-cross-platform-issues.html">
  <link rel="alternate" hreflang="ko" href="https://webglfundamentals.org/webgl/lessons/ko/webgl-cross-platform-issues.html">
  <link rel="alternate" hreflang="pl" href="https://webglfundamentals.org/webgl/lessons/pl/webgl-cross-platform-issues.html">
  <link rel="alternate" hreflang="pt-br" href="https://webglfundamentals.org/webgl/lessons/pt-br/webgl-cross-platform-issues.html">
  <link rel="alternate" hreflang="ru" href="https://webglfundamentals.org/webgl/lessons/ru/webgl-cross-platform-issues.html">
  <link rel="alternate" hreflang="zh_cn" href="https://webglfundamentals.org/webgl/lessons/zh_cn/webgl-cross-platform-issues.html">




</head>
<body>
<div class="webgl_navbar">
  <div>
    <select class="language">
    <option value="/webgl/lessons/webgl-cross-platform-issues.html" selected>English</a>
    <option value="/webgl/lessons/fr/webgl-cross-platform-issues.html" >Fran√ßais</a>
    <option value="/webgl/lessons/ja/webgl-cross-platform-issues.html" >Êó•Êú¨Ë™û</a>
    <option value="/webgl/lessons/ko/webgl-cross-platform-issues.html" >ÌïúÍµ≠Ïñ¥</a>
    <option value="/webgl/lessons/pl/webgl-cross-platform-issues.html" >Polski</a>
    <option value="/webgl/lessons/pt-br/webgl-cross-platform-issues.html" >Portuguese</a>
    <option value="/webgl/lessons/ru/webgl-cross-platform-issues.html" >–†—É—Å—Å–∫–∏–π</a>
    <option value="/webgl/lessons/zh_cn/webgl-cross-platform-issues.html" >ÁÆÄ‰Ωì‰∏≠Êñá</a>
</select>


    <a href="#toc">Table of Contents</a>
  </div>
</div>
<div class="webgl_header">
  <h1><a href="/">WebGLFundamentals.org</a></h1>
<style>
#forkongithub>div {
    background: #000;
    color: #fff;
    font-family: arial,sans-serif;
    text-align: center;
    font-weight: bold;
    padding: 5px 40px;
    font-size: 0.9rem;
    line-height: 1.3rem;
    position: relative;
    transition: 0.5s;
    display: block;
    width: 400px;
    position: absolute;
    top: 0;
    right: 0;
    transform: translateX(200px) rotate(45deg) translate(10px,70px);
    box-shadow: 4px 4px 10px rgba(0,0,0,0.8);
    pointer-events: auto;
}
#forkongithub a {
  text-decoration: none;
  color: #fff;
}
#forkongithub>div:hover {
    background: #c11;
    color: #fff;
}
#forkongithub .contributors {
  font-size: 0.75rem;
  background: rgba(255,255,255,0.2);
  line-height: 1.2;
  padding: 0.1em;
}
#forkongithub>div::before,#forkongithub>div::after {
    content: "";
    width: 100%;
    display: block;
    position: absolute;
    top: 1px;
    left: 0;
    height: 1px;
    background: #fff;
}
#forkongithub>div::after {
    bottom: 1px;
    top: auto;
}

#forkongithub{
    z-index: 9999;
    /* needed for firefox */
    overflow: hidden;
    width: 300px;
    height: 300px;
    position: absolute;
    right: 0;
    top: 0;
    pointer-events: none;
}
#forkongithub svg{
  width: 1em;
  height: 1em;
  vertical-align: middle;
}
#forkongithub img {
  width: 1em;
  height: 1em;
  border-radius: 100%;
  vertical-align: middle;
}

@media (max-width: 900px) {
    #forkongithub>div {
        line-height: 1.2rem;
    }
}
@media (max-width: 700px) {
  #forkongithub {
    display: none;
  }
}
@media (max-width: 410px) {
    #forkongithub>div {
        font-size: 0.7rem;
        transform: translateX(150px) rotate(45deg) translate(20px,40px);
    }
}

</style>
<div id="forkongithub"><div><div><a href="https://github.com/gfxfundamentals/webgl-fundamentals">Fix, Fork, Contribute <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 136 133" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(3.92891,0,0,3.92891,67.867,129.125)">
        <path d="M0,-31.904C-8.995,-31.904 -16.288,-24.611 -16.288,-15.614C-16.288,-8.417 -11.621,-2.312 -5.148,-0.157C-4.333,-0.008 -4.036,-0.511 -4.036,-0.943C-4.036,-1.329 -4.05,-2.354 -4.058,-3.713C-8.589,-2.729 -9.545,-5.897 -9.545,-5.897C-10.286,-7.779 -11.354,-8.28 -11.354,-8.28C-12.833,-9.29 -11.242,-9.27 -11.242,-9.27C-9.607,-9.155 -8.747,-7.591 -8.747,-7.591C-7.294,-5.102 -4.934,-5.821 -4.006,-6.238C-3.858,-7.29 -3.438,-8.008 -2.972,-8.415C-6.589,-8.826 -10.392,-10.224 -10.392,-16.466C-10.392,-18.244 -9.757,-19.698 -8.715,-20.837C-8.883,-21.249 -9.442,-22.905 -8.556,-25.148C-8.556,-25.148 -7.188,-25.586 -4.076,-23.478C-2.777,-23.84 -1.383,-24.02 0.002,-24.026C1.385,-24.02 2.779,-23.84 4.08,-23.478C7.19,-25.586 8.555,-25.148 8.555,-25.148C9.444,-22.905 8.885,-21.249 8.717,-20.837C9.761,-19.698 10.392,-18.244 10.392,-16.466C10.392,-10.208 6.583,-8.831 2.954,-8.428C3.539,-7.925 4.06,-6.931 4.06,-5.411C4.06,-3.234 4.04,-1.477 4.04,-0.943C4.04,-0.507 4.333,0 5.16,-0.159C11.628,-2.318 16.291,-8.419 16.291,-15.614C16.291,-24.611 8.997,-31.904 0,-31.904" style="fill:white;"/>
    </g>
</svg>
</a></div></div></div>

</div>


<div class="container">
  <div class="lesson-title">
    <h1>WebGL Cross Platform Issues</h1>
  </div>
  <div class="lesson">
    <div class="lesson-main">
      <p>I probably comes as no shock that not all WebGL programs work on all devices or
browser. For one WebGL2, at least as of July 2020, <a href="#safari">is not supported at all in
Safari</a>.</p>
<p>Here&#39;s a list of most of the issues you might run into off the top of my head</p>
<h2 id="performance">Performance</h2>
<p>A top end GPU probably runs 100x faster than a low-end GPU. The only way around
that that I know of is to either aim low, or else give the user options like
most Desktop PC apps do where they can choose performance or fidelity.</p>
<h2 id="memory">Memory</h2>
<p>Similarly a top end GPU might have 12 to 24 gig of ram where as a low end GPU
probably has less than 1gig. (I&#39;m old so it&#39;s amazing to me low end = 1gig since
I started programming on machines with 16k to 64k of memory üòú)</p>
<h2 id="device-limits">Device Limits</h2>
<p>WebGL has various minimum supported features but your local device might support
> than that minimum which means it will fail on other devices that support less.</p>
<p>Examples include:</p>
<ul>
<li><p>The max texture size allowed</p>
<p>2048 or 4096 seems to be reasonable limits. At least as of 2020 it looks like
<a href="https://webglstats.com/webgl/parameter/MAX_TEXTURE_SIZE">99% of devices support 4096 but only 50% support &gt; 4096</a>.</p>
<p>Note: the max texture size is the maximum dimension the GPU can process. It
doesn&#39;t mean that GPU has enough memory for that dimension squared (for a 2D
texture) or cubed (for a 3D texture). For example some GPUs have a max size of
16384. But a 3D texture 16384 on each side would require 16 terabytes of
memory!!!</p>
</li>
<li><p>The maximum number of vertex attributes in a single program</p>
<p>In WebGL1 the minimum supported is 8. In WebGL2 it&#39;s 16. If you&#39;re using more than that
then your code will fail on a machine with only the minimum</p>
</li>
<li><p>The maximum number of uniform vectors</p>
<p>These are specified separately for vertex shaders and fragment shaders.</p>
<p>In WebGL1 it&#39;s 128 for vertex shaders and 16 for fragment shaders
In WebGL2 it&#39;s 256 for vertex shaders and 224 for fragment shaders</p>
<p>Note that uniforms can be &quot;packed&quot; so the number above is how many <code class="notranslate" translate="no">vec4</code>s
can be used. Theoretically you could have 4x the number of <code class="notranslate" translate="no">float</code> uniforms.
but there is an algorithm that fits them in. You can imagine the space as
an array with 4 columns, one row for each of the maximum uniform vectors above.</p>
<pre class="prettyprint notranslate" translate="no"><code class="notranslate" translate="no">   +-+-+-+-+
   | | | | |   &lt;- one vec4
   | | | | |   |
   | | | | |   |
   | | | | |   V
   | | | | |   max uniform vectors rows
   | | | | |
   | | | | |  
   | | | | |
   ...
</code></pre><p>First <code class="notranslate" translate="no">vec4</code>s are allocated with a <code class="notranslate" translate="no">mat4</code> being 4 <code class="notranslate" translate="no">vec4</code>s. Then <code class="notranslate" translate="no">vec3</code>s are
fit in the space left. Then <code class="notranslate" translate="no">vec2</code>s followed by <code class="notranslate" translate="no">float</code>s. So imagine we had 1
<code class="notranslate" translate="no">mat4</code>, 2 <code class="notranslate" translate="no">vec3</code>s, 2 <code class="notranslate" translate="no">vec2</code>s and 3 <code class="notranslate" translate="no">float</code>s</p>
<pre class="prettyprint notranslate" translate="no"><code class="notranslate" translate="no">   +-+-+-+-+
   |m|m|m|m|   &lt;- the mat4 takes 4 rows
   |m|m|m|m|
   |m|m|m|m|
   |m|m|m|m|
   |3|3|3| |   &lt;- the 2 vec3s take 2 rows
   |3|3|3| |
   |2|2|2|2|   &lt;- the 2 vec2s can squeeze into 1 row 
   |f|f|f| |   &lt;- the 3 floats fit in one row
   ...
</code></pre><p>Further, an array of uniforms is always vertical so for example if the maximum
allowed uniform vectors is 16 then you can not have a 17 element <code class="notranslate" translate="no">float</code> array
and in fact if you had a single <code class="notranslate" translate="no">vec4</code> that would take an entire row so there
are only 15 rows left meaning the largest array you can have would be 15
elements.</p>
<p>My advice though is don&#39;t count on perfect packing. Although the spec says the
algorithm above is required to pass there are too many combinations to test
that all drivers pass. Just be aware if you&#39;re getting close the limit.</p>
<p>note: varyings and attributes can not be packed.</p>
</li>
<li><p>The maximum varying vectors.</p>
<p>WebGL1 the minimum is 8. WebGL2 it&#39;s 16.</p>
<p>If you use more than your code will not work on a machine with only the minimum.</p>
</li>
<li><p>The maximum texture units</p>
<p>There are 3 values here.</p>
<ol>
<li>How many texture units there are</li>
<li>How many texture units a vertex shader can reference</li>
<li>How many texture units a fragment shader can reference</li>
</ol>
<table class="tabular-data">
  <thead>
    <tr><th></th><th>WebGL1</th><th>WebGL2</th></tr>
  </thead>
  <tbody>
    <tr><td>min texture units that exist</td><td>8</td><td>32</td></tr>
    <tr><td>min texture units a vertex shader can reference</td><th style="color: red;">0!</td><td>16</td></tr>
    <tr><td>min texture units a fragment shader can reference</td><td>8</td><td>16</td></tr>
  </tbody>
</table>

<p>It&#39;s important to note the <strong>0</strong> for a vertex shader in WebGL1. Note that that&#39;s probably not the end of the world.
Apparently <a href="https://webglstats.com/webgl/parameter/MAX_VERTEX_TEXTURE_IMAGE_UNITS">~97% of all devices support at least 4</a>.
Still, you might want to check so you can either tell the user that your app is not going to work for them or
you can fallback to some other shaders.</p>
</li>
</ul>
<p>There are other limits as well. To look them up you call <code class="notranslate" translate="no">gl.getParameter</code> with
the following values. </p>
<div class="webgl_center">
<table class="tabular-data">
  <tbody>
    <tr><td>MAX_TEXTURE_SIZE                </td><td>max size of a texture</td></tr>
    <tr><td>MAX_VERTEX_ATTRIBS              </td><td>num attribs you can have</td></tr>
    <tr><td>MAX_VERTEX_UNIFORM_VECTORS      </td><td>num vec4 uniforms a vertex shader can have</td></tr>
    <tr><td>MAX_VARYING_VECTORS             </td><td>num varyings you have</td></tr>
    <tr><td>MAX_COMBINED_TEXTURE_IMAGE_UNITS</td><td>num texture units that exist</td></tr>
    <tr><td>MAX_VERTEX_TEXTURE_IMAGE_UNITS  </td><td>num texture units a vertex shader can reference</td></tr>
    <tr><td>MAX_TEXTURE_IMAGE_UNITS         </td><td>num texture units a fragment shader can reference</td></tr>
    <tr><td>MAX_FRAGMENT_UNIFORM_VECTORS    </td><td>num vec4 uniforms a fragment shader can have</td></tr>
    <tr><td>MAX_CUBE_MAP_TEXTURE_SIZE       </td><td>max size of a cubemap</td></tr>
    <tr><td>MAX_RENDERBUFFER_SIZE           </td><td>max size of a renderbuffer</td></tr>
    <tr><td>MAX_VIEWPORT_DIMS               </td><td>max size of the viewport</td></tr>
  </tbody>
</table>
</div>

<p>That is not the entire list. For example the max point size and max line thickness
but you should basically assume the max line thickness is 1.0 and that POINTS
are only useful for simple demos where you don&#39;t care about
<a href="#points-lines-viewport-scissor-behavior">the clipping issues</a>.</p>
<p>WebGL2 adds several more. A few common ones are</p>
<div class="webgl_center">
<table class="tabular-data">
  <tbody>
    <tr><td>MAX_3D_TEXTURE_SIZE                </td><td>max size of a 3D texture</td></tr>
    <tr><td>MAX_DRAW_BUFFERS              </td><td>num color attachments you can have</td></tr>
    <tr><td>MAX_ARRAY_TEXTURE_LAYERS      </td><td>max layers in a 2D texture array</td></tr>
    <tr><td>MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS             </td><td>num varyings you can output to separate buffers when using transform feedback</td></tr>
    <tr><td>MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS</td><td>num varyings you can output when sending them all to a single buffer</td></tr>
    <tr><td>MAX_COMBINED_UNIFORM_BLOCKS  </td><td>num uniform blocks you can use overall</td></tr>
    <tr><td>MAX_VERTEX_UNIFORM_BLOCKS         </td><td>num uniform blocks a vertex shader can use</td></tr>
    <tr><td>MAX_FRAGMENT_UNIFORM_BLOCKS    </td><td>num uniform blocks a fragment shader can use</td></tr>
  </tbody>
</table>
</div>

<h2 id="depth-buffer-resolution">Depth Buffer resolution</h2>
<p>A few really old mobile devices use 16bit depth buffers. Otherwise, AFAICT 99%
of devices use a 24bit depth buffer so you probably don&#39;t have to worry about
this.</p>
<h2 id="readpixels-format-type-combos">readPixels format/type combos</h2>
<p>Only certain format/type combos are guaranteed to work. Other combos are
optional. This is covered in <a href="webgl-readpixels.html">this article</a>.</p>
<h2 id="framebuffer-attachment-combos">framebuffer attachment combos</h2>
<p>Framebuffers can have 1 or more attachments of textures and renderbuffers.</p>
<p>In WebGL1 only 3 combinations of attachments are guaranteed to work.</p>
<ol>
<li>a single format = <code class="notranslate" translate="no">RGBA</code>, type= = <code class="notranslate" translate="no">UNSIGNED_BYTE</code> texture as <code class="notranslate" translate="no">COLOR_ATTACHMENT0</code></li>
<li>a format = <code class="notranslate" translate="no">RGBA</code>, type= = <code class="notranslate" translate="no">UNSIGNED_BYTE</code> texture as <code class="notranslate" translate="no">COLOR_ATTACHMENT0</code> and a
format = <code class="notranslate" translate="no">DEPTH_COMPONENT</code> renderbuffer attached as <code class="notranslate" translate="no">DEPTH_ATTACHMENT</code></li>
<li>a format = <code class="notranslate" translate="no">RGBA</code>, type= = <code class="notranslate" translate="no">UNSIGNED_BYTE</code> texture as <code class="notranslate" translate="no">COLOR_ATTACHMENT0</code> and a
format = <code class="notranslate" translate="no">DEPTH_STENCIL</code> renderbuffer attached as <code class="notranslate" translate="no">DEPTH_STENCIL_ATTACHMENT</code></li>
</ol>
<p>All other combinations are up to the implementation which you check by calling
<code class="notranslate" translate="no">gl.checkFramebufferStatus</code> and seeing if it returned <code class="notranslate" translate="no">FRAMEBUFFER_COMPLETE</code>.</p>
<p>WebGL2 guarantees to be able to write to many more formats but still has the
limit in that <strong>any combination can fail!</strong> Your best bet might be if all the
color attachments are the same format if you attach more than 1.</p>
<h2 id="extensions">Extensions</h2>
<p>Many features of WebGL1 and WebGL2 are optional. The entire point of having an
API called <code class="notranslate" translate="no">getExtension</code> is that it can fail if the extension does not exist
and so you should be checking for that failure and not blindly assuming it will
succeed.</p>
<p>Probably the most common missing extension on WebGL1 and WebGL2 is
<code class="notranslate" translate="no">OES_texture_float_linear</code> which is the ability to filter a floating point
texture, meaning the ability to support setting <code class="notranslate" translate="no">TEXTURE_MIN_FILTER</code> and
<code class="notranslate" translate="no">TEXTURE_MAX_FILTER</code> to anything except <code class="notranslate" translate="no">NEAREST</code>. Many mobile devices do not
support this.</p>
<p>In WebGL1 another often missing extension is <code class="notranslate" translate="no">WEBGL_draw_buffers</code> which is the
ability to attach more than 1 color attachment to a framebuffer is still at
around 70% for desktop and almost none for smartphones (that seems wrong).
Basically any device that can run WebGL2 should also support
<code class="notranslate" translate="no">WEBGL_draw_buffers</code> in WebGL1 but still, it&#39;s apparently still an issue. If you
are needing to render to multiple textures at once it&#39;s likely your page needs a
high end GPU period. Still, you should check if the user device supports it and
if not provide a friendly explanation.</p>
<p>For WebGL1 the following 3 extensions seem almost universally supported so while
you might want to warn the user your page is not going to work if they are
missing it&#39;s likely that user has an extremely old device that wasn&#39;t going to
run your page well anyway.</p>
<p>They are, <code class="notranslate" translate="no">ANGLE_instance_arrays</code> (the ability to use <a href="webgl-instanced-drawing.html">instanced drawing</a>),
<code class="notranslate" translate="no">OES_vertex_array_object</code> (the ability to store all the attribute state in an object so you can swap all
that state with a single function call. See <a href="webgl-attributes.html">this</a>), and <code class="notranslate" translate="no">OES_element_index_uint</code>
(the ability to use <code class="notranslate" translate="no">UNSIGNED_INT</code> 32 bit indices with <a href="webgl-indexed-vertices.html"><code class="notranslate" translate="no">drawElements</code></a>).</p>
<h2 id="attribute-locations">attribute locations</h2>
<p>A semi common bug is not looking up attribute locations. For example you have a vertex shader like</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-glsl">attribute vec4 position;
attribute vec2 texcoord;

uniform mat4 matrix;

varying vec2 v_texcoord;

void main() {
   gl_Position = matrix * position;
   v_texcoord = texcoord;
}
</code></pre>
<p>Your code assumes that <code class="notranslate" translate="no">position</code> will be attribute 0 and <code class="notranslate" translate="no">texcoord</code> will be
attribute 1 but that is not guaranteed. So it runs for you but fails for someone
else. Often this can be a bug in that you didn&#39;t do this intentionally but
through an error in the code things work when the locations are one way but not
another.</p>
<p>There are 3 solutions.</p>
<ol>
<li>Always look up the locations.</li>
<li>Assign locations by calling <code class="notranslate" translate="no">gl.bindAttribLocation</code> before calling <code class="notranslate" translate="no">gl.linkProgram</code></li>
<li><p>WebGL2 only, set the locations in the shader as in</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-glsl">#version 300 es
layout(location = 0) vec4 position;
latout(location = 1) vec2 texcoord;
...
</code></pre>
<p>Solution 2 seems the most <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">D.R.Y.</a> where as solution 3
seems the most <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself#DRY_vs_WET_solutions">W.E.T.</a> unless
you&#39;re generating your textures at runtime.</p>
</li>
</ol>
<h2 id="glsl-undefined-behavior">GLSL undefined behavior</h2>
<p>Several GLSL functions have undefined behavior. For example <code class="notranslate" translate="no">pow(x, y)</code> is
undefined if <code class="notranslate" translate="no">x &lt; 0</code>. There is a longer list at <a href="webgl-3d-lighting-spot.html">the bottom of the article on
spot lighting</a>.</p>
<h2 id="shader-precision-issues">Shader precision issues</h2>
<p>In 2020 the biggest issue here is if you use <code class="notranslate" translate="no">mediump</code> or <code class="notranslate" translate="no">lowp</code> in your shaders
then on desktop the GPU will really use <code class="notranslate" translate="no">highp</code> but on mobile they&#39;ll actually be
<code class="notranslate" translate="no">mediump</code> and or <code class="notranslate" translate="no">lowp</code> and so you won&#39;t notice any issues when developing on desktop.</p>
<p>See <a href="webgl-precision-issues.html">this article for more details</a>.</p>
<h2 id="points-lines-viewport-scissor-behavior">Points, Lines, Viewport, Scissor behavior</h2>
<p><code class="notranslate" translate="no">POINTS</code> and <code class="notranslate" translate="no">LINES</code> in WebGL can have a max size of 1 and in fact for <code class="notranslate" translate="no">LINES</code>
that is now the most common limit. Further whether points are clipped when their
center is outside the viewport is implementation defined. See the bottom of
<a href="webgl-drawing-without-data.html#pointissues">this article</a>.</p>
<p>Similarly, whether or not the viewport clips vertices only or also pixels is
undefined. The scissor always clips pixels so turn on the scissor test and set
the scissor size if you set the viewport smaller than the thing you&#39;re drawing
to and you&#39;re drawing LINES or POINTS.</p>
<h2 id="safari-bugs">Safari Bugs</h2>
<p>Safari has more WebGL bugs than any other modern browser and Apple seems to
have zero interest in fixing any of them.</p>
<p>Here&#39;s a short list of some bugs unfixed for years</p>
<ul>
<li><p>toDataURL (and just guessing toBlob) returns upside down result if premultipledAlpha = false (4yrs old)
<a href="https://bugs.webkit.org/show_bug.cgi?id=156129">bug</a></p>
</li>
<li><p>preserveDrawingBuffer=true wrongly double-buffers on current iOS (4yrs old)
<a href="https://bugs.webkit.org/show_bug.cgi?id=159608">bug</a></p>
</li>
<li><p><code class="notranslate" translate="no">OES_texture_float</code> implementation must support non-ArrayBufferView entry points (10yrs old)
<a href="https://bugs.webkit.org/show_bug.cgi?id=51015">bug</a></p>
</li>
<li><p>readPixels generates INVALID_ENUM for RGBA/UNSIGNED_BYTE (3yrs old)
<a href="https://bugs.webkit.org/show_bug.cgi?id=170341">bug</a></p>
</li>
<li><p>Changes to a WebGL canvas and to layer transforms are not always synchronized (3yrs old)
<a href="https://bugs.webkit.org/show_bug.cgi?id=172969">bug</a></p>
</li>
<li><p>PNG textures with zero alpha channel have wrong rgb colors (4yrs old)
<a href="https://bugs.webkit.org/show_bug.cgi?id=165297">bug</a></p>
</li>
<li><p>Safari doesn&#39;t handle common no attribute use case (1yr old)
<a href="https://bugs.webkit.org/show_bug.cgi?id=197592">bug</a></p>
</li>
<li><p><a id="safari"></a>Also note that while there is an option to enable WebGL2 in Safari
all it does is allow <code class="notranslate" translate="no">#version 300 es</code> shaders. All other 80+ WebGL2
api functions are unimplemented, at least as of July 2020.
<a href="https://trac.webkit.org/browser/webkit/trunk/Source/WebCore/html/canvas/WebGL2RenderingContext.cpp">See the source</a>
and search for &quot;not implemented&quot;.</p>
</li>
</ul>

    </div>
    <div class="lesson-sidebar">
        <select class="language">
    <option value="/webgl/lessons/webgl-cross-platform-issues.html" selected>English</a>
    <option value="/webgl/lessons/fr/webgl-cross-platform-issues.html" >Fran√ßais</a>
    <option value="/webgl/lessons/ja/webgl-cross-platform-issues.html" >Êó•Êú¨Ë™û</a>
    <option value="/webgl/lessons/ko/webgl-cross-platform-issues.html" >ÌïúÍµ≠Ïñ¥</a>
    <option value="/webgl/lessons/pl/webgl-cross-platform-issues.html" >Polski</a>
    <option value="/webgl/lessons/pt-br/webgl-cross-platform-issues.html" >Portuguese</a>
    <option value="/webgl/lessons/ru/webgl-cross-platform-issues.html" >–†—É—Å—Å–∫–∏–π</a>
    <option value="/webgl/lessons/zh_cn/webgl-cross-platform-issues.html" >ÁÆÄ‰Ωì‰∏≠Êñá</a>
</select>


        <div id="toc">
          <ul>  <li>Fundamentals</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-fundamentals.html">Fundamentals</a></li>
<li><a href="/webgl/lessons/webgl-how-it-works.html">How It Works</a></li>
<li><a href="/webgl/lessons/webgl-shaders-and-glsl.html">Shaders and GLSL</a></li>
<li><a href="/webgl/lessons/resources/webgl-state-diagram.html">WebGL State Diagram</a></li>
        </ul>
  <li>Image Processing</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-image-processing.html">Image Processing</a></li>
<li><a href="/webgl/lessons/webgl-image-processing-continued.html">Image Processing Continued</a></li>
        </ul>
  <li>2D translation, rotation, scale, matrix math</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-2d-translation.html">2D Translation</a></li>
<li><a href="/webgl/lessons/webgl-2d-rotation.html">2D Rotation</a></li>
<li><a href="/webgl/lessons/webgl-2d-scale.html">2D Scale</a></li>
<li><a href="/webgl/lessons/webgl-2d-matrices.html">2D Matrices</a></li>
        </ul>
  <li>3D</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-3d-orthographic.html">Orthographic 3D</a></li>
<li><a href="/webgl/lessons/webgl-3d-perspective.html">3D Perspective</a></li>
<li><a href="/webgl/lessons/webgl-3d-camera.html">3D Cameras</a></li>
        </ul>
  <li>Lighting</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-3d-lighting-directional.html">Directional Lighting</a></li>
<li><a href="/webgl/lessons/webgl-3d-lighting-point.html">Point Lighting</a></li>
<li><a href="/webgl/lessons/webgl-3d-lighting-spot.html">Spot Lighting</a></li>
        </ul>
  <li>Structure and Organization</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-less-code-more-fun.html">Less Code, More Fun</a></li>
<li><a href="/webgl/lessons/webgl-drawing-multiple-things.html">Drawing Multiple Things</a></li>
<li><a href="/webgl/lessons/webgl-scene-graph.html">Scene Graphs</a></li>
        </ul>
  <li>Geometry</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-3d-geometry-lathe.html">Geometry - Lathe</a></li>
<li><a href="/webgl/lessons/webgl-load-obj.html">Loading .obj files</a></li>
<li><a href="/webgl/lessons/webgl-load-obj-w-mtl.html">Loading .obj w .mtl files</a></li>
        </ul>
  <li>Textures</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-3d-textures.html">Textures</a></li>
<li><a href="/webgl/lessons/webgl-data-textures.html">Data Textures</a></li>
<li><a href="/webgl/lessons/webgl-2-textures.html">Using 2 or More Textures</a></li>
<li><a href="/webgl/lessons/webgl-cors-permission.html">Cross Origin Images</a></li>
<li><a href="/webgl/lessons/webgl-3d-perspective-correct-texturemapping.html">Perspective Correct Texture Mapping</a></li>
<li><a href="/webgl/lessons/webgl-planar-projection-mapping.html">Planar and Perspective Projection Mapping</a></li>
        </ul>
  <li>Rendering To A Texture</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-render-to-texture.html">Render to Texture</a></li>
        </ul>
  <li>Shadows</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-shadows.html">Shadows</a></li>
        </ul>
  <li>Techniques</li>
        <ul>
            <li>2D</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-2d-drawimage.html">2D - DrawImage</a></li>
<li><a href="/webgl/lessons/webgl-2d-matrix-stack.html">2D - Matrix Stack</a></li>
<li><a href="/webgl/lessons/webgl-sprites.html">Sprites</a></li>
        </ul>
  <li>3D</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-cube-maps.html">Cubemaps</a></li>
<li><a href="/webgl/lessons/webgl-environment-maps.html">Environment maps</a></li>
<li><a href="/webgl/lessons/webgl-skybox.html">Skyboxes</a></li>
<li><a href="/webgl/lessons/webgl-skinning.html">Skinning</a></li>
<li><a href="/webgl/lessons/webgl-fog.html">Fog</a></li>
<li><a href="/webgl/lessons/webgl-picking.html">Picking (clicking on stuff)</a></li>
        </ul>
  <li>Text</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-text-html.html">Text - HTML</a></li>
<li><a href="/webgl/lessons/webgl-text-canvas2d.html">Text - Canvas 2D</a></li>
<li><a href="/webgl/lessons/webgl-text-texture.html">Text - Using a Texture</a></li>
<li><a href="/webgl/lessons/webgl-text-glyphs.html">Text - Using a Glyph Texture</a></li>
        </ul>
  <li>Textures</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-ramp-textures.html">Ramp Textures (Toon Shading)</a></li>
        </ul>
  <li>GPGPU</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-gpgpu.html">GPGPU</a></li>
        </ul>
        </ul>
  <li>Tips</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-smallest-programs.html">Smallest Programs</a></li>
<li><a href="/webgl/lessons/webgl-drawing-without-data.html">Drawing Without Data</a></li>
<li><a href="/webgl/lessons/webgl-shadertoy.html">Shadertoy</a></li>
<li><a href="/webgl/lessons/webgl-pulling-vertices.html">Pulling Vertices</a></li>
        </ul>
  <li>Optimization</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-indexed-vertices.html">Indexed Vertices (gl.drawElements)</a></li>
<li><a href="/webgl/lessons/webgl-instanced-drawing.html">Instanced Drawing</a></li>
        </ul>
  <li>Misc</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-setup-and-installation.html">Setup And Installation</a></li>
<li><a href="/webgl/lessons/webgl-boilerplate.html">Boilerplate</a></li>
<li><a href="/webgl/lessons/webgl-resizing-the-canvas.html">Resizing the Canvas</a></li>
<li><a href="/webgl/lessons/webgl-animation.html">Animation</a></li>
<li><a href="/webgl/lessons/webgl-points-lines-triangles.html">Points, Lines, and Triangles</a></li>
<li><a href="/webgl/lessons/webgl-multiple-views.html">Multiple Views, Multiple Canvases</a></li>
<li><a href="/webgl/lessons/webgl-visualizing-the-camera.html">Visualizing the Camera</a></li>
<li><a href="/webgl/lessons/webgl-and-alpha.html">WebGL and Alpha</a></li>
<li><a href="/webgl/lessons/webgl-2d-vs-3d-library.html">2D vs 3D libraries</a></li>
<li><a href="/webgl/lessons/webgl-anti-patterns.html">Anti-Patterns</a></li>
<li><a href="/webgl/lessons/webgl-matrix-vs-math.html">WebGL Matrices vs Math Matrices</a></li>
<li><a href="/webgl/lessons/webgl-precision-issues.html">Precision Issues</a></li>
<li><a href="/webgl/lessons/webgl-tips.html#screenshot">Taking a screenshot</a></li>
<li><a href="/webgl/lessons/webgl-tips.html#preservedrawingbuffer">Prevent the Canvas Being Cleared</a></li>
<li><a href="/webgl/lessons/webgl-tips.html#tabindex">Get Keyboard Input From a Canvas</a></li>
<li><a href="/webgl/lessons/webgl-tips.html#html-background">Use WebGL as Background in HTML</a></li>
<li><a href="/webgl/lessons/webgl-cross-platform-issues.html">Cross Platform Issues</a></li>
<li><a href="/webgl/lessons/webgl-qna.html">Questions and Answers</a></li>
        </ul>
  <li>Reference</li>
        <ul>
          <li><a href="/webgl/lessons/webgl-attributes.html">Attributes</a></li>
<li><a href="/webgl/lessons/webgl-texture-units.html">Texture Units</a></li>
<li><a href="/webgl/lessons/webgl-framebuffers.html">Framebuffers</a></li>
<li><a href="/webgl/lessons/webgl-readpixels.html">readPixels</a></li>
<li><a href="/webgl/lessons/webgl-references.html">References</a></li>
        </ul></ul>
<ul>
  <li><a href="/docs/">Helper API Docs</a></li>
  <li><a href="https://twgljs.org">TWGL, A tiny WebGL helper library</a></li>
  <li><a href="https://github.com/gfxfundamentals/webgl-fundamentals">github</a></li>
</ul>
        </div>
    </div>
    <div class="lesson-comments">
        
    <div>Questions? <a href="https://stackoverflow.com/questions/tagged/webgl">Ask on stackoverflow</a>.</div>
    <div>Issue/Bug? <a href="https://github.com/gfxfundamentals/webgl-fundamentals/issues">Create an issue on github</a>.</div>
    <div class="lesson-comment-notes">
       Use <b>&lt;pre&gt;&lt;code&gt;</b>code goes here<b>&lt;/code&gt;&lt;/pre&gt;</b> for code blocks
    </div>
  

        <div id="disqus_thread"></div>
        <script>
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'webglfundamentals'; // required: replace example with your forum shortname
            var disqus_identifier = 'WebGL Cross Platform Issues';
            var disqus_title = 'WebGL Cross Platform Issues';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                if (window.location.hostname.indexOf("webglfundamentals.org") < 0) {
                    return;
                }
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
  </div>
</div>
</body>
<script>
const settings = {
  contribTemplate: "Thank you <a href=\"${html_url}\"><img src=\"${avatar_url}\"> ${login}</a><br>for <a href=\"https://github.com/${owner}/${repo}/commits?author=${login}\">${contributions} contributions</a>",
  owner: "gfxfundamentals",
  repo: "webgl-fundamentals",
};
</script>
<script src="/contributors.js"></script>
<script src="/3rdparty/jquery-1.11.2.min.js"></script>
<script src="/webgl/lessons/resources/prettify.js"></script>
<script src="/webgl/lessons/resources/lesson.js" type="module"></script>
<script>
(function() {
  if (window.location.hostname.indexOf("webglfundamentals.org") < 0) {
      return;
  }

  function addScript(src, fn) {
    const script = document.createElement('script');
    const firstScript = document.getElementsByTagName('script')[0];
    script.async = true;
    script.defer = true;
    if (fn) {
      script.addEventListener('load', fn);
    }
    script.src = src;
    firstScript.parentNode.insertBefore(script, firstScript);
  }

  addScript('//cdn.webglstats.com/stat.js');

  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59804936-1', 'auto');
  ga('send', 'pageview');
}());
</script>


</html>



