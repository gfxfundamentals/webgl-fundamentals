<!DOCTYPE html>
<!-- this file is auto-generated from webgl/lessons/zh_cn/webgl-3d-geometry-lathe.md. Do not edited directly -->
<!--
Copyright 2012, Gregg Tavares.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

*   Redistributions of source code must retain the above copyright
    notice, this list of conditions and the following disclaimer.

*   Redistributions in binary form must reproduce the above
    copyright notice, this list of conditions and the following disclaimer
    in the documentation and/or other materials provided with the
    distribution.

*   Neither the name of Gregg Tavares. nor the names of his
    contributors may be used to endorse or promote products derived from
    this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-->
<html lang="zh-cn">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta property="og:title" content="WebGL ä¸‰ç»´å‡ ä½•åŠ å·¥" />
<meta property="og:type" content="website" />
<meta property="og:image" content="http://webglfundamentals.org/webgl/lessons/resources/webglfundamentals.jpg" />
<meta property="og:description" content="å¦‚ä½•ç”¨å·¥ç¨‹åŒ–çš„æ–¹å¼ç”Ÿæˆè´å¡å°”æ›²çº¿" />
<meta property="og:url" content="http://webglfundamentals.org//webgl/lessons/zh_cn/webgl-3d-geometry-lathe.html" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@greggman" />
<meta name="twitter:creator" content="@greggman" />
<meta name="twitter:domain" content="webglfundamentals.org" />
<meta name="twitter:title" content="WebGL ä¸‰ç»´å‡ ä½•åŠ å·¥" />
<meta name="twitter:url" content="http://webglfundamentals.org//webgl/lessons/zh_cn/webgl-3d-geometry-lathe.html" />
<meta name="twitter:description" content="å¦‚ä½•ç”¨å·¥ç¨‹åŒ–çš„æ–¹å¼ç”Ÿæˆè´å¡å°”æ›²çº¿" />
<meta name="twitter:image:src" content="http://webglfundamentals.org/webgl/lessons/resources/webglfundamentals.jpg" />


<title>WebGL ä¸‰ç»´å‡ ä½•åŠ å·¥</title>
<link href="/webgl/lessons/resources/webglfundamentals-icon.png" rel="shortcut icon" type="image/png">
<link rel="stylesheet" href="/webgl/lessons/resources/base.css" type="text/css" />
<link rel="stylesheet" href="/webgl/lessons/resources/lesson.css" type="text/css" />
</head>
<body>
<div class="webgl_header">
  <h1><a href="/">WebGLFundamentals.org</a></h1>
</div>


<div class="container">
  <div class="lesson-title">
    <h1>WebGL ä¸‰ç»´å‡ ä½•åŠ å·¥</h1>
  </div>
  <div class="row">
    <div class="col-sm-8 lesson-main">
      <p>è¿™å¯èƒ½æ˜¯ä¸€ä¸ªæ™¦æ¶©çš„è¯é¢˜ï¼Œä½†æ˜¯æˆ‘è§‰å¾—å¾ˆæœ‰è¶£æ‰€ä»¥å°±å†™å‡ºæ¥äº†ã€‚
è¿™äº›ä¸œè¥¿å¹¶ä¸æ˜¯å»ºè®®ä½ è¦ä¼šåšçš„ï¼Œæˆ‘åªæ˜¯è®¤ä¸ºé€šè¿‡è¿™ä¸ªè¯é¢˜èƒ½å¤Ÿè®©ä½ å¯¹åˆ¶ä½œWebGLä¸‰ç»´æ¨¡å‹æœ‰ä¸€äº›ç†è§£ã€‚</p>
<p>æœ‰äººé—®æˆ‘æ€ä¹ˆåœ¨WebGLä¸­åˆ¶ä½œä¸€ä¸ªä¿é¾„çƒç“¶ï¼Œ<strong>èªæ˜</strong>çš„å›ç­”æ˜¯
â€œä½¿ç”¨ä¸€ä¸ªä¸‰ç»´å»ºæ¨¡å·¥å…·ä¾‹å¦‚<a href="http://blender.org">Blender</a>,
<a href="http://www.autodesk.com/products/maya/overview">Maya</a>,
<a href="http://www.autodesk.com/products/3ds-max/overview">3D Studio Max</a>,
<a href="https://www.maxon.net/en/products/cinema-4d/overview/">Cinema 4D</a>, ç­‰ç­‰â€ã€‚
ä½¿ç”¨å®ƒåˆ›å»ºä¸€ä¸ªä¿é¾„çƒç“¶ï¼Œå¯¼å‡ºï¼Œè¯»å–ç‚¹åæ ‡(<a href="https://en.wikipedia.org/wiki/Wavefront_.obj_file">OBJæ ¼å¼ç›¸å¯¹ç®€å•äº›</a>)ã€‚</p>
<p>ä½†æ˜¯ï¼Œè¿™è®©æˆ‘æƒ³åˆ°ï¼Œå¦‚æœä»–ä»¬æƒ³åšä¸€ä¸ªæ¨¡å‹åº“è¯¥æ€ä¹ˆåŠï¼Ÿ</p>
<p>è¿™æœ‰å‡ ç§æ–¹æ³•ï¼Œä¸€ç§æ–¹æ³•æ˜¯å°†åœ†æŸ±ä½“æŒ‰ç…§æ­£å¼¦å‡½æ•°æ”¾ç½®åœ¨åˆé€‚ä½ç½®ä¸Šï¼Œ
ä½†è¿™æ ·è¡¨é¢å¹¶ä¸å¹³æ»‘ã€‚ä¸€ä¸ªæ ‡å‡†çš„åœ†æŸ±éœ€è¦ä¸€äº›é—´è·ç›¸ç­‰çš„åœ†ç¯ï¼Œ
ä½†å½“æ›²çº¿å˜å¾—é”åˆ©çš„æ—¶å€™æ‰€éœ€åœ†ç¯çš„æ•°é‡å°±ä¼šå¾ˆå¤šã€‚</p>
<p>åœ¨æ¨¡å‹åº“ä¸­ä½ éœ€è¦åˆ¶ä½œä¸€ä¸ªäºŒç»´è½®å»“æˆ–è€…æ˜¯ä¸€ä¸ªç¬¦åˆè¾¹ç¼˜çš„æ›²çº¿ï¼Œç„¶åå°†ä»–ä»¬åŠ å·¥æˆä¸‰ç»´å›¾å½¢ã€‚
è¿™é‡ŒåŠ å·¥çš„æ„æ€å°±æ˜¯å°†ç”Ÿæˆçš„äºŒç»´ç‚¹æŒ‰ç…§æŸäº›è½´æ—‹è½¬ã€‚è¿™æ ·å°±å¯ä»¥å¾ˆè½»æ¾çš„åšå‡ºä¸€äº›åœ†çš„ç‰©ä½“ï¼Œ
ä¾‹å¦‚ç¢—ï¼Œæ£’çƒæ£’ï¼Œç“¶å­ï¼Œç¯æ³¡ä¹‹ç±»çš„ç‰©ä½“ã€‚</p>
<p>é‚£ä¹ˆè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿé¦–å…ˆæˆ‘ä»¬è¦é€šè¿‡æŸç§æ–¹å¼ç”Ÿæˆä¸€ä¸ªæ›²çº¿ï¼Œè®¡ç®—æ›²çº¿ä¸Šçš„ç‚¹ã€‚
ç„¶åä½¿ç”¨<a href="webgl-2d-matrices.html">çŸ©é˜µè¿ç®—</a>å°†è¿™äº›ç‚¹æŒ‰ç…§æŸä¸ªè½´æ—‹è½¬ï¼Œ
æ„å»ºå‡ºä¸‰è§’å½¢ç½‘æ ¼ã€‚</p>
<p>è®¡ç®—æœºä¸­å¸¸ç”¨çš„æ›²çº¿å°±æ˜¯è´å¡å°”æ›²çº¿ï¼Œä½ å¯èƒ½åœ¨ä¸€äº›ç¼–è¾‘å™¨ä¾‹å¦‚
<a href="http://www.adobe.com/products/illustrator.html">Adobe Illustrator</a> æˆ–
<a href="https://inkscape.org/en/">Inkscape</a> æˆ–
<a href="https://affinity.serif.com/en-us/designer/">Affinity Designer</a>
ä¸­ç¼–è¾‘è¿‡è´å¡å°”æ›²çº¿ã€‚</p>
<p>è´å¡å°”æ›²çº¿æˆ–ä¸‰æ¬¡è´å¡å°”æ›²çº¿ç”± 4 ä¸ªç‚¹ç»„æˆï¼Œ2 ä¸ªç«¯ç‚¹ï¼Œ2 ä¸ªâ€œæ§åˆ¶ç‚¹â€ã€‚</p>
<p>è¿™å°±æ˜¯å››ä¸ªç‚¹</p>
<p><div>
  <iframe class="webgl_example " style="width: 400px; height: 300px;" src="/webgl/lessons/resources/bezier-curve-diagram.html?maxDepth=0"></iframe>
</div>

</p>
<p>ä» 0 åˆ° 1 ä¹‹é—´é€‰ä¸€ä¸ªæ•°ï¼ˆå«åš <code>t</code>ï¼‰ï¼Œå…¶ä¸­ 0 æ˜¯èµ·ç‚¹ï¼Œ1 æ˜¯ç»ˆç‚¹ã€‚
ç„¶ååœ¨æ¯ä¸ªçº¿æ®µä¸­è®¡ç®—å‡ºä¸ <code>t</code> ç›¸å…³çš„ç‚¹ï¼Œ<code>P1 P2</code>, <code>P2 P3</code>, <code>P3 P4</code>ã€‚</p>
<p><div>
  <iframe class="webgl_example " style="width: 400px; height: 300px;" src="/webgl/lessons/resources/bezier-curve-diagram.html?maxDepth=1"></iframe>
</div>

</p>
<p>æ¢å¥è¯è¯´å¦‚æœ <code>t = .25</code> é‚£ä¹ˆå°±è®¡ç®—å‡º <code>P1</code> åˆ° <code>P2</code> è·ç¦»ä¸º 25% çš„ç‚¹ï¼Œ
ä» <code>P2</code> åˆ° <code>P3</code> è·ç¦»ä¸º 25% çš„ç‚¹ï¼Œä» <code>P3</code> åˆ° <code>P4</code> è·ç¦»ä¸º 25% çš„ç‚¹ã€‚</p>
<p>ä½ å¯ä»¥æ‹–åŠ¨æ»‘å—è°ƒæ•´ <code>t</code> çš„å€¼ï¼Œä¹Ÿå¯ä»¥æ‹–åŠ¨ <code>P1</code>, <code>P2</code>, <code>P3</code>, å’Œ <code>P4</code> è°ƒæ•´ä½ç½®ã€‚</p>
<p>å¯¹è¿™äº›ç»“æœç‚¹åšåŒæ ·çš„æ“ä½œï¼Œè®¡ç®— <code>t</code> å¯¹åº”çš„ <code>Q1 Q2</code> å’Œ <code>Q2 Q3</code> ä¹‹é—´çš„ç‚¹ã€‚</p>
<p><div>
  <iframe class="webgl_example " style="width: 400px; height: 300px;" src="/webgl/lessons/resources/bezier-curve-diagram.html?maxDepth=2"></iframe>
</div>

</p>
<p>æœ€ååœ¨ <code>R1 R2</code> ä¸­è®¡ç®—å‡ºä¸ <code>t</code> ç›¸å…³çš„ç‚¹ã€‚</p>
<p><div>
  <iframe class="webgl_example " style="width: 400px; height: 300px;" src="/webgl/lessons/resources/bezier-curve-diagram.html?maxDepth=3"></iframe>
</div>

</p>
<p><span style="color: red;">çº¢ç‚¹</span>çš„ä½ç½®å°±æ„æˆäº†ä¸€ä¸ªæ›²çº¿ã€‚</p>
<p><div>
  <iframe class="webgl_example " style="width: 400px; height: 300px;" src="/webgl/lessons/resources/bezier-curve-diagram.html?maxDepth=4"></iframe>
</div>

</p>
<p>è¿™å°±æ˜¯ä¸‰æ¬¡è´å¡å°”æ›²çº¿ã€‚</p>
<p>æ³¨æ„åˆ°åœ¨ä¸Šè¿°å·®å€¼è¿‡ç¨‹ä¸­é€šè¿‡ 4 ä¸ªç‚¹å·®å‡º 3 ä¸ªç‚¹ï¼Œ3 ä¸ªç‚¹å·®å‡º 2 ä¸ªç‚¹ï¼Œæœ€åä» 2 ä¸ªç‚¹å·®å‡º 1 ä¸ªç‚¹ï¼Œ
è¿™å¹¶ä¸æ˜¯å¸¸ç”¨çš„åšæ³•ï¼Œæœ‰äººå°†è¿™äº›æ•°å­¦è¿ç®—ç®€åŒ–æˆäº†ä¸€ä¸ªå…¬å¼ï¼Œåƒè¿™æ ·</p>
<div class="webgl_center">
<pre class="webgl_math">
invT = (1 - t)
P = P1 * invT^3 +
    P2 * 3 * t * invT^2 +
    P3 * 3 * invT * t^2 +
    P4 * t^3
</pre>
</div>

<p>å…¶ä¸­ <code>P1</code>, <code>P2</code>, <code>P3</code>, <code>P4</code> å°±åƒä¸Šä¾‹ä¸­çš„å››ä¸ªç‚¹ï¼Œ
<code>P</code> å°±æ˜¯é‚£ä¸ª <span style="color: red;">çº¢ç‚¹</span>ã€‚</p>
<p>åœ¨äºŒç»´ç¾æœ¯åº”ç”¨ä¾‹å¦‚ Adobe Illustrator ä¸­ï¼Œ
å½“ä½ åˆ¶ä½œä¸€ä¸ªè¾ƒé•¿çš„æ›²çº¿æ—¶é€šå¸¸æ˜¯ç”±ä¸€äº›å°çš„å››ç‚¹ç‰‡æ®µç»„æˆçš„ã€‚
é»˜è®¤æƒ…å†µä¸‹åº”ç”¨å°†æ§åˆ¶ç‚¹æ²¿ç€èµ·/ç»ˆç‚¹æ–¹å‘é”æ­»ï¼Œ
ç¡®ä¿åœ¨å…¬å…±ç‚¹éƒ¨åˆ†æ–¹å‘ç›¸åã€‚</p>
<p>çœ‹è¿™ä¸ªä¾‹å­ã€‚ç§»åŠ¨ <code>P3</code> æˆ– <code>P5</code> ä¼šåŒæ—¶ç§»åŠ¨å¦ä¸€ä¸ªã€‚</p>
<p><div>
  <iframe class="webgl_example " style="width: 400px; height: 300px;" src="/webgl/lessons/resources/bezier-curve-edit.html"></iframe>
</div>

</p>
<p>æ³¨æ„è¿™ä¸ªæ›²çº¿æ˜¯ä¸¤æ®µï¼Œ<code>P1,P2,P3,P4</code> å’Œ <code>P4,P5,P6,P7</code>ã€‚
åªæœ‰åœ¨ <code>P3</code>ï¼Œ<code>P5</code> ä¸ <code>P4</code> çš„è¿çº¿æ–¹å‘ç›¸åæ—¶æ›²çº¿åœ¨è¿™ä¸€ç‚¹æ‰ä¼šè¿ç»­ã€‚
å¤§å¤šæ•°åº”ç”¨å¯ä»¥è®©ä½ æ–­å¼€è¿æ¥ï¼Œå¹¶è·å¾—ä¸€ä¸ªé”åˆ©çš„æ‹ç‚¹ã€‚
å–æ¶ˆé€‰ä¸­å¤é€‰æ¡†ç„¶åæ‹–æ‹½ <code>P3</code> æˆ– <code>P5</code> å°±ä¼šæ¸…æ™°çœ‹åˆ°ç‹¬ç«‹çš„æ›²çº¿ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦è·å¾—ç”Ÿæˆæ›²çº¿ä¸Šçš„ç‚¹ï¼Œé€šè¿‡ç»™ä¸Šæ–¹çš„å…¬å¼æä¾› <code>t</code>
å°±å¯ä»¥ç”Ÿæˆä¸€ä¸ªç‚¹ã€‚</p>
<pre><code>function getPointOnBezierCurve(points, offset, t) {
  const invT = (1 - t);
  return v2.add(v2.mult(points[offset + 0], invT * invT * invT),
                v2.mult(points[offset + 1], 3 * t * invT * invT),
                v2.mult(points[offset + 2], 3 * invT * t * t),
                v2.mult(points[offset + 3], t * t  *t));
}
</code></pre><p>ç„¶åå¯ä»¥è®¡ç®—ä¸€ç³»åˆ—ç‚¹ã€‚</p>
<pre><code>function getPointsOnBezierCurve(points, offset, numPoints) {
  const points = [];
  for (let i = 0; i &lt; numPoints; ++i) {
    const t = i / (numPoints - 1);
    points.push(getPointOnBezierCurve(points, offset, t));
  }
  return points;
}
</code></pre><p>æ³¨æ„ï¼š <code>v2.mult</code> å’Œ <code>v2.add</code> æ˜¯æˆ‘åŠ å…¥çš„äºŒç»´ç‚¹è¿ç®—è¾…åŠ©æ–¹æ³•ã€‚</p>
<p><div>
  <iframe class="webgl_example " style="width: 400px; height: 300px;" src="/webgl/lessons/resources/bezier-curve-diagram.html?maxDepth=0&amp;showCurve=true&amp;showPoints=true"></iframe>
</div>

</p>
<p>åœ¨å›¾ç¤ºä¸­ä½ å¯ä»¥é€‰æ‹©ç‚¹çš„ä¸ªæ•°ï¼Œå¦‚æœæ›²çº¿æ¯”è¾ƒé”åˆ©å°±å¯ä»¥å¤šå·®å€¼ä¸€äº›ç‚¹ï¼Œ
å¦‚æœæ›²çº¿æ¯”è¾ƒå¹³ç¼“å°±å¯ä»¥å°‘æ’å€¼ä¸€äº›ç‚¹ã€‚ä¸€ä¸ªè§£å†³åŠæ³•æ˜¯æ£€æŸ¥æ›²çº¿çš„é”åˆ©ç¨‹åº¦ï¼Œ
å¦‚æœè¿‡äºé”åˆ©å°±æ‹†åˆ†æˆä¸¤ä¸ªæ›²çº¿ã€‚</p>
<p>æ‹†åˆ†çš„éƒ¨åˆ†æ¯”è¾ƒç®€å•ï¼Œå¦‚æœæˆ‘ä»¬å†çœ‹çœ‹ä¸åŒçº§åˆ«çš„æŸ¥åˆ†ï¼Œå¯¹äºä»»æ„å€¼çš„ <code>t</code>,
<code>P1</code>, <code>Q1</code>, <code>R1</code>, çº¢ç‚¹æ„æˆä¸€ä¸ªæ›²çº¿ï¼Œç»ˆç‚¹æ˜¯çº¢ç‚¹ã€‚
çº¢ç‚¹, <code>R2</code>, <code>Q3</code>, <code>P4</code> æ„æˆä¸€ä¸ªæ›²çº¿ã€‚æ¢å¥è¯è¯´æˆ‘ä»¬å¯ä»¥å°†æ›²çº¿ä»ä»»æ„ä½ç½®åˆ†æˆä¸¤æ®µï¼Œ
å¹¶ä¸”å’ŒåŸæ›²çº¿ç›¸åŒã€‚</p>
<p><div>
  <iframe class="webgl_example " style="width: 400px; height: 300px;" src="/webgl/lessons/resources/bezier-curve-diagram.html?maxDepth=4&amp;show2Curves=true"></iframe>
</div>

</p>
<p>ç¬¬äºŒä¸ªéƒ¨åˆ†æ˜¯å¦‚ä½•å†³å®šæ›²çº¿æ˜¯å¦éœ€è¦æ‹†åˆ†ï¼Œä»ç½‘ä¸ŠæŸ¥æ‰¾åæˆ‘å‘ç°äº†<a href="https://seant23.wordpress.com/2010/11/12/offset-bezier-curves/">è¿™ä¸ªæ–¹æ³•</a>ï¼Œ
å¯¹äºç»™å®šçš„æ›²çº¿å¯ä»¥æ±‚å‡ºå¹³æ»‘ç¨‹åº¦ã€‚</p>
<pre><code>function flatness(points, offset) {
  const p1 = points[offset + 0];
  const p2 = points[offset + 1];
  const p3 = points[offset + 2];
  const p4 = points[offset + 3];

  let ux = 3 * p2[0] - 2 * p1[0] - p4[0]; ux *= ux;
  let uy = 3 * p2[1] - 2 * p1[1] - p4[1]; uy *= uy;
  let vx = 3 * p3[0] - 2 * p4[0] - p1[0]; vx *= vx;
  let vy = 3 * p3[1] - 2 * p4[1] - p1[1]; vy *= vy;

  if(ux &lt; vx) {
    ux = vx;
  }

  if(uy &lt; vy) {
    uy = vy;
  }

  return ux + uy;
}
</code></pre><p>æˆ‘ä»¬å¯ä»¥ç”¨å®ƒè·å–æ›²çº¿ä¸Šçš„ç‚¹ï¼Œé¦–å…ˆæ£€æŸ¥æ›²çº¿æ˜¯å¦å¤ªé”åˆ©ï¼Œå¦‚æœæ˜¯å°±æ‹†åˆ†ï¼Œ
ä¸æ˜¯å°±å°†ç‚¹åŠ å…¥åˆ—è¡¨ã€‚</p>
<pre><code>function getPointsOnBezierCurveWithSplitting(points, offset, tolerance, newPoints) {
  const outPoints = newPoints || [];
  if (flatness(points, offset) &lt; tolerance) {

    // å°†å®ƒåŠ å…¥ç‚¹é˜Ÿåˆ—ä¸­
    outPoints.push(points[offset + 0]);
    outPoints.push(points[offset + 3]);

  } else {

    // æ‹†åˆ†
    const t = .5;
    const p1 = points[offset + 0];
    const p2 = points[offset + 1];
    const p3 = points[offset + 2];
    const p4 = points[offset + 3];

    const q1 = v2.lerp(p1, p2, t);
    const q2 = v2.lerp(p2, p3, t);
    const q3 = v2.lerp(p3, p4, t);

    const r1 = v2.lerp(q1, q2, t);
    const r2 = v2.lerp(q2, q3, t);

    const red = v2.lerp(r1, r2, t);

    // æ±‚å‰åŠæ®µçš„ç‚¹
    getPointsOnBezierCurveWithSplitting([p1, q1, r1, red], 0, tolerance, outPoints);
    // æ±‚ååŠæ®µçš„ç‚¹
    getPointsOnBezierCurveWithSplitting([red, r2, q3, p4], 0, tolerance, outPoints);

  }
  return outPoints;
}
</code></pre><p><div>
  <iframe class="webgl_example " style="width: 400px; height: 300px;" src="/webgl/lessons/resources/bezier-curve-diagram.html?maxDepth=0&amp;showCurve=true&amp;showTolerance=true"></iframe>
</div>

</p>
<p>è¿™ä¸ªç®—æ³•åœ¨è·å–æ›²çº¿ç‚¹çš„è¿‡ç¨‹ä¸­ç¡®ä¿äº†ç‚¹çš„æ•°é‡æ¯”è¾ƒå……è¶³ï¼Œä½†æ˜¯ä¸èƒ½å¾ˆå¥½çš„æ’é™¤ä¸å¿…è¦çš„ç‚¹ã€‚</p>
<p>ç”±äºè¿™ä¸ªåŸå› æˆ‘ä»¬å°†ä½¿ç”¨æˆ‘åœ¨ç½‘ä¸Šæ‰¾åˆ°çš„ <a href="https://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm">Ramer Douglas Peucker ç®—æ³•</a>ã€‚</p>
<p>åœ¨è¿™ä¸ªç®—æ³•ä¸­æˆ‘ä»¬æä¾›ä¸€ç³»åˆ—ç‚¹ï¼Œæ‰¾åˆ°ç¦»æœ€åä¸¤ç‚¹æ„æˆçš„ç›´çº¿è·ç¦»æœ€è¿œçš„ç‚¹ï¼Œ
ç„¶åå°†è¿™ä¸ªè·ç¦»å’Œä¸€ä¸ªå®šå€¼è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå°äºé‚£ä¸ªå€¼å°±ä¿ç•™æœ€åä¸¤ä¸ªç‚¹ç„¶åä¸¢å¼ƒå…¶ä»–çš„ç‚¹ï¼Œ
å¤§äºåˆ™å°†æ›²çº¿æ²¿é‚£ä¸ªæœ€è¿œç‚¹åˆ†æˆä¸¤ä»½ï¼Œåˆ†åˆ«å¯¹æ¯ä¸€ä»½å†åšä¸€æ¬¡è¿™ä¸ªè¿ç®—ã€‚</p>
<pre><code>function simplifyPoints(points, start, end, epsilon, newPoints) {
  const outPoints = newPoints || [];

  // æ‰¾åˆ°ç¦»æœ€åä¸¤ç‚¹è·ç¦»æœ€è¿œçš„ç‚¹
  const s = points[start];
  const e = points[end - 1];
  let maxDistSq = 0;
  let maxNdx = 1;
  for (let i = start + 1; i &lt; end - 1; ++i) {
    const distSq = v2.distanceToSegmentSq(points[i], s, e);
    if (distSq &gt; maxDistSq) {
      maxDistSq = distSq;
      maxNdx = i;
    }
  }

  // å¦‚æœè·ç¦»å¤ªè¿œ
  if (Math.sqrt(maxDistSq) &gt; epsilon) {

    // æ‹†åˆ†
    simplifyPoints(points, start, maxNdx + 1, epsilon, outPoints);
    simplifyPoints(points, maxNdx, end, epsilon, outPoints);

  } else {

    // æ·»åŠ æœ€åä¸¤ä¸ªç‚¹
    outPoints.push(s, e);
  }

  return outPoints;
}
</code></pre><p><code>v2.distanceToSegmentSq</code> æ˜¯è®¡ç®—ç‚¹åˆ°çº¿æ®µè·ç¦»å¹³æ–¹çš„ä¸€ä¸ªæ–¹æ³•ï¼Œ
ä½¿ç”¨è·ç¦»å¹³æ–¹çš„åŸå› æ˜¯æ¯”ä½¿ç”¨å®é™…è·ç¦»è¦å¿«ä¸€äº›ï¼Œå› ä¸ºæˆ‘ä»¬å€¼ç®¡çº¿æœ€è¿œè·ç¦»æ‰€ä»¥å’Œå®é™…è·ç¦»çš„æ•ˆæœç›¸åŒã€‚</p>
<p>è¿™æ˜¯ç»“æœï¼Œè°ƒæ•´è·ç¦»æŸ¥çœ‹æ·»åŠ æˆ–åˆ é™¤çš„ç‚¹ã€‚</p>
<p><div>
  <iframe class="webgl_example " style="width: 400px; height: 300px;" src="/webgl/lessons/resources/bezier-curve-diagram.html?maxDepth=0&amp;showCurve=true&amp;showDistance=true"></iframe>
</div>

</p>
<p>å›åˆ°ä¿é¾„çƒç“¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸Šæ–¹çš„ä»£ç æ•´ç†ä¸€ä¸‹ï¼Œéœ€è¦æ·»åŠ å’Œç§»é™¤ç‚¹ï¼Œé”å®šå’Œè§£é”æ§åˆ¶ç‚¹ï¼Œ
æ’¤é”€ç­‰ç­‰ã€‚ä½†æ˜¯è¿™æœ‰ä¸€ä¸ªç®€å•çš„æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªä¸Šæ–¹æåˆ°çš„ç¼–è¾‘å™¨ï¼Œ<a href="https://svg-edit.github.io/svgedit/releases/svg-edit-2.8.1/svg-editor.html">æˆ‘ä½¿ç”¨è¿™ä¸ªåœ¨çº¿ç¼–è¾‘å™¨</a>ã€‚</p>
<p>è¿™æ˜¯æˆ‘åšçš„ä¿é¾„çƒçš„åŠè¾¹è½®å»“çš„svgã€‚</p>
<p><img class="webgl_center" src="../resources/bowling-pin-silhouette.svg" width="50%" height="50%" /></p>
<p>ç”± 4 ä¸ªæ›²çº¿åˆ¶æˆï¼Œè·¯å¾„çš„æ•°æ®åƒè¿™æ ·</p>
<pre><code>&lt;path fill=&quot;none&quot; stroke-width=&quot;5&quot; d=&quot;
   m44,434
   c18,-33 19,-66 15,-111
   c-4,-45 -37,-104 -39,-132
   c-2,-28 11,-51 16,-81
   c5,-30 3,-63 -36,-63
&quot;/&gt;
</code></pre><p><a href="https://developer.mozilla.org/en/docs/Web/SVG/Tutorial/Paths">è§£è¯‘è¿™äº›æ•°æ®</a> å¾—åˆ°è¿™äº›ç‚¹ã€‚</p>
<pre><code>        ___
44, 371,   |
62, 338,   | ç¬¬ä¸€ä¸ªæ›²çº¿
63, 305,___|__
59, 260,___|  |
55, 215,      | ç¬¬äºŒä¸ªæ›²çº¿
22, 156,______|__
20, 128,______|  |
18, 100,         | ç¬¬ä¸‰ä¸ªæ›²çº¿
31,  77,_________|__
36,  47,_________|  |
41,  17,            | ç¬¬å››ä¸ªæ›²çº¿
39, -16,            |
 0, -16,____________|
</code></pre><p>ç°åœ¨æœ‰äº†æ›²çº¿æ•°æ®ï¼Œéœ€è¦è®¡ç®—å‡ºæ›²çº¿ä¸Šçš„ç‚¹ã€‚</p>
<pre><code>// è·å–æ‰€æœ‰ç‰‡æ®µçš„ç‚¹
function getPointsOnBezierCurves(points, tolerance) {
  const newPoints = [];
  const numSegments = (points.length - 1) / 3;
  for (let i = 0; i &lt; numSegments; ++i) {
    const offset = i * 3;
    getPointsOnBezierCurveWithSplitting(points, offset, tolerance, newPoints);
  }
  return newPoints;
}
</code></pre><p>è°ƒç”¨ <code>simplifyPoints</code> å¤„ç†ç»“æœã€‚</p>
<p>ç°åœ¨è¦æ—‹è½¬å®ƒä»¬äº†ï¼Œéœ€è¦å†³å®šåˆ†å¤šå°‘ä¸ªéƒ¨åˆ†ï¼Œå¯¹äºæ¯ä¸ªéƒ¨åˆ†éƒ½ç”¨<a href="webgl-2d-matrices.html">çŸ©é˜µè¿ç®—</a>
ç»• Y è½´è½¬åŠ¨ä¸€å®šè§’åº¦è·å¾—ï¼Œä¸€æ—¦è·å¾—æ‰€æœ‰ç‚¹å°±ç”¨ç´¢å¼•è¿æ¥å®ƒä»¬ã€‚</p>
<pre><code>// ç»• Y è½´æ—‹è½¬
function lathePoints(points,
                     startAngle,   // èµ·å§‹è§’ (ä¾‹å¦‚ 0)
                     endAngle,     // ç»ˆæ­¢è§’ (ä¾‹å¦‚ Math.PI * 2)
                     numDivisions, // è¿™ä¸­é—´ç”Ÿæˆå¤šå°‘å—
                     capStart,     // true å°±å°é—­èµ·ç‚¹
                     capEnd) {     // true å°±å°é—­é‡ç‚¹
  const positions = [];
  const texcoords = [];
  const indices = [];

  const vOffset = capStart ? 1 : 0;
  const pointsPerColumn = points.length + vOffset + (capEnd ? 1 : 0);
  const quadsDown = pointsPerColumn - 1;

  // ç”Ÿæˆç‚¹
  for (let division = 0; division &lt;= numDivisions; ++division) {
    const u = division / numDivisions;
    const angle = lerp(startAngle, endAngle, u) % (Math.PI * 2);
    const mat = m4.yRotation(angle);
    if (capStart) {
      // åœ¨å¼€å§‹å¤„æ·»åŠ ä¸€ä¸ª Y è½´ä¸Šçš„ç‚¹
      positions.push(0, points[0][1], 0);
      texcoords.push(u, 0);
    }
    points.forEach((p, ndx) =&gt; {
      const tp = m4.transformPoint(mat, [...p, 0]);
      positions.push(tp[0], tp[1], tp[2]);
      const v = (ndx + vOffset) / quadsDown;
      texcoords.push(u, v); 
    });
    if (capEnd) {
      // åœ¨ç»ˆç‚¹å¤„æ·»åŠ ä¸€ä¸ª Y è½´ä¸Šçš„ç‚¹
      positions.push(0, points[points.length - 1][1], 0);
      texcoords.push(u, 1);
    }
  }

  // åˆ›å»ºç´¢å¼•
  for (let division = 0; division &lt; numDivisions; ++division) {
    const column1Offset = division * pointsPerColumn;
    const column2Offset = column1Offset + pointsPerColumn;
    for (let quad = 0; quad &lt; quadsDown; ++quad) {
      indices.push(column1Offset + quad, column2Offset + quad, column1Offset + quad + 1);
      indices.push(column1Offset + quad + 1, column2Offset + quad, column2Offset + quad + 1);
    }
  }

  return {
    position: positions,
    texcoord: texcoords,
    indices: indices,
  };
}
</code></pre><p>ä¸Šæ–¹çš„ä»£ç åˆ›å»ºäº†ä½ç½®ç‚¹å’Œçº¹ç†åæ ‡ï¼Œç„¶ååˆ›å»ºç´¢å¼•ç”Ÿæˆä¸‰è§’ç½‘ã€‚
<code>capStart</code> å’Œ <code>capEnd</code> ç¡®å®šæ˜¯éƒ½ç”Ÿæˆé—­åˆç‚¹ï¼Œå‡è®¾æˆ‘ä»¬åœ¨åšä¸€ä¸ªç½å¤´ï¼Œ
è¿™äº›é€‰é¡¹æŒ‡æ˜æ˜¯å¦éœ€è¦é—­åˆé¡¶é¢å’Œåº•é¢ã€‚</p>
<p>ä½¿ç”¨æˆ‘ä»¬çš„ <a href="webgl-less-code-more-fun.html">ç®€åŒ–ä»£ç </a> å°±å¯ä»¥ç”¨å“ªäº›æ•°æ®ç”Ÿæˆè¿™æ ·çš„
WebGLç¼“å†²</p>
<pre><code>const tolerance = 0.15;
const distance = .4;
const divisions = 16;
const startAngle = 0;
const endAngle = Math.PI * 2;
const capStart = true;
const capEnd = true;

const tempPoints = getPointsOnBezierCurves(curvePoints, tolerance);
const points = simplifyPoints(tempPoints, 0, tempPoints.length, distance);
const arrays = lathePoints(points, startAngle, endAngle, divisions, capStart, capEnd);
const extents = getExtents(arrays.position);
if (!bufferInfo) {
  bufferInfo = webglUtils.createBufferInfoFromArrays(gl, arrays);
</code></pre><p>è¿™æ˜¯ç»“æœ</p>
<p><div>
  <iframe class="webgl_example" style=" " src="/webgl/resources/editor.html?url=/webgl/lessons/..%2Fwebgl-3d-lathe-step-01.html"></iframe>
  <a class="webgl_center" href="/webgl/lessons/../webgl-3d-lathe-step-01.html" target="_blank">ç‚¹æ­¤åœ¨æ–°çª—å£ä¸­æµè§ˆ</a>
</div>

</p>
<p>æ‹–åŠ¨æ»‘å—è§‚å¯Ÿå¯¹ç»“æœçš„å½±å“ã€‚</p>
<p>è¿™è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¼€å¯ä¸‰è§’å½¢ä½ ä¼šçœ‹åˆ°çº¹ç†ä¸æ˜¯å‡åŒ€åˆ†å¸ƒçš„ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬å°†çº¹ç†åæ ‡çš„ <code>v</code>
å€¼èµ‹ä¸ºæ›²çº¿ç‚¹çš„ç´¢å¼•ï¼Œå¦‚æœæ›²çº¿ä¸Šçš„ç‚¹è·ç¦»ç›¸ç­‰é‚£å°±æ²¡é—®é¢˜ï¼Œä½†æ˜¯å®ƒä»¬è·ç¦»å¹¶ä¸ç›¸ç­‰ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥éå†æ›²çº¿ä¸Šçš„ç‚¹å¹¶è®¡ç®—å‡ºæ¯ä¸€ç‚¹å¯¹åº”æ›²çº¿é•¿åº¦ï¼Œæœ€åå°†è¿™ä¸ªé•¿åº¦é™¤ä»¥æ›²çº¿æ€»é•¿åº¦èµ‹å€¼ç»™ <code>v</code>ã€‚</p>
<pre><code>// ç»• Y è½´æ—‹è½¬
function lathePoints(points,
                     startAngle,   // èµ·å§‹è§’ (ä¾‹å¦‚ 0)
                     endAngle,     // ç»ˆæ­¢è§’ (ä¾‹å¦‚ Math.PI * 2)
                     numDivisions, // è¿™ä¸­é—´ç”Ÿæˆå¤šå°‘å—
                     capStart,     // true å°±å°é—­èµ·ç‚¹
                     capEnd) {     // true å°±å°é—­é‡ç‚¹
  const positions = [];
  const texcoords = [];
  const indices = [];

  const vOffset = capStart ? 1 : 0;
  const pointsPerColumn = points.length + vOffset + (capEnd ? 1 : 0);
  const quadsDown = pointsPerColumn - 1;

+  // ç”Ÿæˆ v å€¼
+  let vcoords = [];
+
+  // å…ˆè®¡ç®—å‡ºæ¯ä¸€ç‚¹å¯¹åº”çš„é•¿åº¦
+  let length = 0;
+  for (let i = 0; i &lt; points.length - 1; ++i) {
+    vcoords.push(length);
+    length += v2.distance(points[i], points[i + 1]);
+  }
+  vcoords.push(length);  // æœ€åä¸€ä¸ªç‚¹
+
+  // é™¤ä»¥æ€»é•¿
+  vcoords = vcoords.map(v =&gt; v / length);

  // ç”Ÿæˆç‚¹
  for (let division = 0; division &lt;= numDivisions; ++division) {
    const u = division / numDivisions;
    const angle = lerp(startAngle, endAngle, u) % (Math.PI * 2);
    const mat = m4.yRotation(angle);
    if (capStart) {
      // åœ¨å¼€å§‹å¤„æ·»åŠ ä¸€ä¸ª Y è½´ä¸Šçš„ç‚¹
      positions.push(0, points[0][1], 0);
      texcoords.push(u, 0);
    }
    points.forEach((p, ndx) =&gt; {
      const tp = m4.transformPoint(mat, [...p, 0]);
      positions.push(tp[0], tp[1], tp[2]);
*      texcoords.push(u, vcoords[ndx]);
    });
    if (capEnd) {
      // åœ¨ç»ˆç‚¹å¤„æ·»åŠ ä¸€ä¸ª Y è½´ä¸Šçš„ç‚¹
      positions.push(0, points[points.length - 1][1], 0);
      texcoords.push(u, 1);
    }
  }

  // åˆ›å»ºç´¢å¼•
  for (let division = 0; division &lt; numDivisions; ++division) {
    const column1Offset = division * pointsPerColumn;
    const column2Offset = column1Offset + pointsPerColumn;
    for (let quad = 0; quad &lt; quadsDown; ++quad) {
      indices.push(column1Offset + quad, column1Offset + quad + 1, column2Offset + quad);
      indices.push(column1Offset + quad + 1, column2Offset + quad + 1, column2Offset + quad);
    }
  }

  return {
    position: positions,
    texcoord: texcoords,
    indices: indices,
  };
}
</code></pre><p>è¿™æ˜¯ç»“æœ</p>
<p><div>
  <iframe class="webgl_example" style=" " src="/webgl/resources/editor.html?url=/webgl/lessons/..%2Fwebgl-3d-lathe-step-02.html"></iframe>
  <a class="webgl_center" href="/webgl/lessons/../webgl-3d-lathe-step-02.html" target="_blank">ç‚¹æ­¤åœ¨æ–°çª—å£ä¸­æµè§ˆ</a>
</div>

</p>
<p>è¿™äº›çº¹ç†åæ ‡è¿˜æ˜¯ä¸å®Œç¾ï¼Œå› ä¸ºæˆ‘ä»¬è¿˜æ²¡å†³å®šæ€ä¹ˆå¤„ç†é—­åˆéƒ¨åˆ†çš„çº¹ç†ã€‚è¿™ä¹Ÿæ˜¯ä½¿ç”¨å»ºæ¨¡è½¯ä»¶çš„ä¸€ä¸ªåŸå› ã€‚
æˆ‘ä»¬å¯ä»¥æ€»ç»“å‡ºå¾ˆå¤šè®¡ç®—é—­åˆå¤„ uv å€¼çš„æ–¹æ³•ï¼Œä½†å¹¶ä¸æ˜¯å¾ˆæœ‰æ„ä¹‰ã€‚
å¦‚æœä½  <a href="https://www.google.com/search?q=uv+map+a+barrel">è°·æ­Œä¸€ä¸‹ UV map a barrel</a>ï¼Œ
ä½ ä¼šå‘ç°å®Œç¾çš„ UV åæ ‡æ˜¯ä¸éœ€è¦å¤ªå¤šæ•°å­¦è¿ç®—çš„ï¼Œåªéœ€è¦ç”Ÿæˆåˆé€‚çš„ç‚¹æ•°æ®ï¼Œè¿™æ—¶ä½ å°±éœ€è¦ä¸€ä¸ªåˆé€‚å·¥å…·åˆ›å»ºç‚¹æ•°æ®ã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªäº‹æƒ…è¦åšï¼Œå°±æ˜¯æ·»åŠ æ³•å‘é‡ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥è®¡ç®—æ¯ä¸€ä¸ªæ›²çº¿ç‚¹çš„æ³•å‘é‡ï¼Œäº‹å®ä¸Šå¦‚æœä½ ä¼šçœ‹è¿™èŠ‚ä¸­çš„ä¾‹å­ï¼Œä½ ä¼šå‘ç° <code>R1</code> å’Œ <code>R2</code>
æ„æˆçš„çº¿æ®µåˆ‡æ›²çº¿äºçº¢ç‚¹å¤„ã€‚</p>
<p><img class="webgl_center" src="../resources/tangent-to-curve.png" width="50%" /></p>
<p>æ³•å‘é‡å’Œåˆ‡çº¿å‚ç›´æ‰€ä»¥ä»åˆ‡çº¿å¾ˆå®¹æ˜“æ±‚å‡ºæ³•å‘é‡ã€‚</p>
<p>ä½†æ˜¯ï¼Œå‡è®¾æˆ‘ä»¬æƒ³è¦åšä¸€ä¸ªçƒ›å°ï¼Œæœ‰è¿™æ ·ä¸€ä¸ªæ¡†æ¶ã€‚</p>
<p><img class="webgl_center" src="../resources/candle-holder.svg" width="50%" /></p>
<p>è¿™æœ‰å¾ˆå¤šå¹³æ»‘åŒºåŸŸä¹Ÿæœ‰å¾ˆå¤šé”åˆ©è§’ï¼Œå¦‚ä½•å†³å®šä½¿ç”¨æ³•å‘é‡çš„æ–¹å‘å‘¢ï¼Ÿå½“éœ€è¦é”åˆ©è¾¹ç¼˜æ—¶å°±è¦ä½¿ç”¨å¤šä½™çš„é¡¶ç‚¹ï¼Œ
å› ä¸ºä¸€ä¸ªé¡¶ç‚¹æœ‰ä¸€ä¸ªä½ç½®å’Œä¸€ä¸ªæ³•å‘é‡ï¼Œå¦‚æœéœ€è¦å¤šä¸ªæ³•å‘é‡å°±éœ€è¦ä¸åŒçš„é¡¶ç‚¹ï¼Œè¿™ä¹Ÿæ˜¯åˆ¶ä½œç«‹æ–¹ä½“éœ€è¦è‡³å°‘24
ä¸ªé¡¶ç‚¹çš„åŸå› ï¼Œè™½ç„¶ç«‹æ–¹ä½“åªæœ‰ 8 ä¸ªé¡¶ç‚¹ï¼Œä½†æ¯ä¸ªé¢åœ¨é‚£ä¸ªé¡¶ç‚¹å¤„éƒ½éœ€è¦ä¸åŒçš„æ³•å‘é‡ã€‚</p>
<p>åˆ›å»ºç«‹æ–¹ä½“çš„æ—¶å€™å¾ˆå®¹æ˜“ç¡®å®šæ³•å‘é‡ï¼Œä½†æ˜¯å½¢çŠ¶å¤æ‚çš„æ—¶å€™å°±æ²¡é‚£ä¹ˆå®¹æ˜“äº†ã€‚</p>
<p>æ‰€æœ‰çš„å»ºæ¨¡è½¯ä»¶éƒ½æœ‰ä¸åŒçš„æ–¹å¼åˆ›å»ºæ³•å‘é‡ï¼Œä¸€ä¸ªå¸¸ç”¨çš„åšæ³•å°±æ˜¯å°†è¯¥ç‚¹é‚»æ¥çš„ä¸‰è§’é¢çš„æ³•å‘é‡æ±‚å¹³å‡ã€‚
å¦å¤–ï¼Œè¿˜å…è®¸ç”¨æˆ·é€‰æ‹©ä¸€ä¸ªæœ€å¤§è§’åº¦ï¼Œå¦‚æœé‚»æ¥çš„å¤šè¾¹å½¢çš„æ³•å‘é‡çš„å¤¹è§’å¤§äºæœ€å¤§è§’åº¦ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°é¡¶ç‚¹ã€‚</p>
<p>æˆ‘ä»¬æ¥å®ç°è¿™ä¸ªã€‚</p>
<pre><code>function generateNormals(arrays, maxAngle) {
  const positions = arrays.position;
  const texcoords = arrays.texcoord;

  // é¦–å…ˆè®¡ç®—å‡ºæ¯ä¸ªé¢çš„æ³•å‘é‡
  let getNextIndex = makeIndiceIterator(arrays);
  const numFaceVerts = getNextIndex.numElements;
  const numVerts = arrays.position.length;
  const numFaces = numFaceVerts / 3;
  const faceNormals = [];

  // è®¡ç®—æ¯ä¸ªé¢çš„æ³•å‘é‡ï¼Œ
  // è®¡ç®—è¿‡ç¨‹ä¸­ä¸ºæ¯ä¸ªé¢æ–°å»ºé¡¶ç‚¹
  for (let i = 0; i &lt; numFaces; ++i) {
    const n1 = getNextIndex() * 3;
    const n2 = getNextIndex() * 3;
    const n3 = getNextIndex() * 3;

    const v1 = positions.slice(n1, n1 + 3);
    const v2 = positions.slice(n2, n2 + 3);
    const v3 = positions.slice(n3, n3 + 3);

    faceNormals.push(m4.normalize(m4.cross(m4.subtractVectors(v1, v2), m4.subtractVectors(v3, v2))));
  }

  let tempVerts = {};
  let tempVertNdx = 0;

  // å‡è®¾é¡¶ç‚¹ä½ç½®ç²¾ç¡®åŒ¹é…

  function getVertIndex(x, y, z) {

    const vertId = x + &quot;,&quot; + y + &quot;,&quot; + z;
    const ndx = tempVerts[vertId];
    if (ndx !== undefined) {
      return ndx;
    }
    const newNdx = tempVertNdx++;
    tempVerts[vertId] = newNdx;
    return newNdx;
  }

  // æˆ‘ä»¬éœ€è¦ç®—å‡ºå…±äº«çš„é¡¶ç‚¹
  // è¿™å¹¶ä¸åƒæˆ‘ä»¬çœ‹ç€é¢é‚£ä¹ˆç®€å• (ä¸‰è§’å½¢)
  // å› ä¸ºåŠ å…¥æˆ‘ä»¬æœ‰ä¸€ä¸ªæ ‡å‡†çš„åœ†æŸ±
  //
  //
  //      3-4
  //     /   \
  //    2     5   ä»ä¸Šå¾€ä¸‹çœ‹ï¼Œä» S èµ°åˆ° E, E å’Œ S 
  //    1     6   æ˜¯ä¸åŒçš„ç‚¹ï¼Œå› ä¸ºå®ƒä»¬ä¸å…±äº«UVåæ ‡ã€‚
  //     \   /    
  //      S/E
  //
  // é¡¶ç‚¹åœ¨å…¶å®å’Œç»“æŸä½ç½®å¹¶ä¸æ˜¯å…±äº«çš„
  // ç”±äºå®ƒä»¬æœ‰ä¸åŒçš„UVåæ ‡ï¼Œä½†å¦‚æœä¸
  // æŠŠå®ƒä»¬çœ‹ä½œå…±äº«é¡¶ç‚¹å°±ä¼šå¾—åˆ°é”™è¯¯ç»“æœ

  const vertIndices = [];
  for (let i = 0; i &lt; numVerts; ++i) {
    const offset = i * 3;
    const vert = positions.slice(offset, offset + 3);
    vertIndices.push(getVertIndex(vert));
  }

  // éå†æ‰€æœ‰é¡¶ç‚¹è®°å½•æ‰€åœ¨çš„é¢
  const vertFaces = [];
  getNextIndex.reset();
  for (let i = 0; i &lt; numFaces; ++i) {
    for (let j = 0; j &lt; 3; ++j) {
      const ndx = getNextIndex();
      const sharedNdx = vertIndices[ndx];
      let faces = vertFaces[sharedNdx];
      if (!faces) {
        faces = [];
        vertFaces[sharedNdx] = faces;
      }
      faces.push(i);
    }
  }

  // éå†é¢ä¸Šçš„é¡¶ç‚¹è®¡ç®—æ¯ä¸ªé¡¶ç‚¹çš„æ³•å‘é‡
  // åªè®¡ç®—ä¸¤é¢è§’åº¦ä¸å¤§äº maxAngle é¢
  // å°†ç»“æœå†™å…¥ newPositions,
  // newTexcoords å’Œ newNormals, 
  // ä¸¢å¼ƒç›¸åŒçš„é¡¶ç‚¹
  tempVerts = {};
  tempVertNdx = 0;
  const newPositions = [];
  const newTexcoords = [];
  const newNormals = [];

  function getNewVertIndex(x, y, z, nx, ny, nz, u, v) {
    const vertId =
        x + &quot;,&quot; + y + &quot;,&quot; + z + &quot;,&quot; +
        nx + &quot;,&quot; + ny + &quot;,&quot; + nz + &quot;,&quot; +
        u + &quot;,&quot; + v;

    const ndx = tempVerts[vertId];
    if (ndx !== undefined) {
      return ndx;
    }
    const newNdx = tempVertNdx++;
    tempVerts[vertId] = newNdx;
    newPositions.push(x, y, z);
    newNormals.push(nx, ny, nz);
    newTexcoords.push(u, v);
    return newNdx;
  }

  const newVertIndices = [];
  getNextIndex.reset();
  const maxAngleCos = Math.cos(maxAngle);
  // å¯¹æ¯ä¸ªé¢
  for (let i = 0; i &lt; numFaces; ++i) {
    // è·å–è¯¥é¢çš„æ³•å‘é‡
    const thisFaceNormal = faceNormals[i];
    // å¯¹äºé¢ä¸Šçš„æ¯ä¸€ç‚¹
    for (let j = 0; j &lt; 3; ++j) {
      const ndx = getNextIndex();
      const sharedNdx = vertIndices[ndx];
      const faces = vertFaces[sharedNdx];
      const norm = [0, 0, 0];
      faces.forEach(faceNdx =&gt; {
        // é¢çš„æ³•å‘é‡æ˜¯å¦ç›¸åŒ
        const otherFaceNormal = faceNormals[faceNdx];
        const dot = m4.dot(thisFaceNormal, otherFaceNormal);
        if (dot &gt; maxAngleCos) {
          m4.addVectors(norm, otherFaceNormal, norm);
        }
      });
      m4.normalize(norm, norm);
      const poffset = ndx * 3;
      const toffset = ndx * 2;
      newVertIndices.push(getNewVertIndex(
          positions[poffset + 0], positions[poffset + 1], positions[poffset + 2],
          norm[0], norm[1], norm[2],
          texcoords[toffset + 0], texcoords[toffset + 1]));
    }
  }

  return {
    position: newPositions,
    texcoord: newTexcoords,
    normal: newNormals,
    indices: newVertIndices,
  };

}

function makeIndexedIndicesFn(arrays) {
  const indices = arrays.indices;
  let ndx = 0;
  const fn = function() {
    return indices[ndx++];
  };
  fn.reset = function() {
    ndx = 0;
  };
  fn.numElements = indices.length;
  return fn;
}

function makeUnindexedIndicesFn(arrays) {
  let ndx = 0;
  const fn = function() {
    return ndx++;
  };
  fn.reset = function() {
    ndx = 0;
  }
  fn.numElements = arrays.positions.length / 3;
  return fn;
}

function makeIndiceIterator(arrays) {
  return arrays.indices
      ? makeIndexedIndicesFn(arrays)
      : makeUnindexedIndicesFn(arrays);
}
</code></pre><p>ä¸Šæ–¹çš„ä»£ç é¦–å…ˆé€šè¿‡åŸå§‹é¡¶ç‚¹è®¡ç®—æ¯ä¸ªé¢ï¼ˆä¸‰è§’å½¢ï¼‰çš„æ³•å‘é‡ï¼Œ
ç„¶ååˆ›å»ºä¸€ä¸ªé¡¶ç‚¹ç´¢å¼•é›†å¯»æ‰¾ç›¸åŒçš„é¡¶ç‚¹ï¼Œé‚£æ˜¯å› ä¸ºæˆ‘ä»¬æ—‹è½¬åçš„èµ·å§‹å’Œç»ˆæ­¢ç‚¹åº”è¯¥æ˜¯åŒä¸€ä¸ªç‚¹ï¼Œ
ä½†UVåæ ‡ä¸åŒæ‰€ä»¥è¦å•ç‹¬å¤„ç†ï¼Œè®¡ç®—é¡¶ç‚¹æ³•å‘é‡æ—¶è¦å°†å®ƒä»¬çœ‹ä½œç›¸åŒç‚¹ã€‚</p>
<p>è¿™äº›åšå®Œä¹‹åï¼Œå¯¹äºæ¯ä¸ªé¡¶ç‚¹ï¼Œç”Ÿæˆäº†ä¸€ä¸ªåŒ…å«å®ƒçš„é¢çš„é›†åˆã€‚</p>
<p>æœ€åå°†æ‰€æœ‰é™¤äº†å·®å€¼å¤§äº <code>maxAngle</code> çš„é¢çš„æ³•å‘é‡æ±‚å¹³å¹³å‡ï¼Œè·å¾—ä¸€ä¸ªæ–°çš„é¡¶ç‚¹é›†åˆã€‚</p>
<p>è¿™æ˜¯ç»“æœ</p>
<p><div>
  <iframe class="webgl_example" style=" " src="/webgl/resources/editor.html?url=/webgl/lessons/..%2Fwebgl-3d-lathe-step-03.html"></iframe>
  <a class="webgl_center" href="/webgl/lessons/../webgl-3d-lathe-step-03.html" target="_blank">ç‚¹æ­¤åœ¨æ–°çª—å£ä¸­æµè§ˆ</a>
</div>

</p>
<p>æ³¨æ„åˆ°åœ¨æœŸæœ›çš„ä½ç½®å¾—åˆ°äº†é”åˆ©çš„è¾¹ç¼˜ï¼Œè°ƒå¤§ <code>maxAngle</code> çš„å€¼å°±ä¼šå°†ç›¸é‚»çš„é¢åŠ å…¥è®¡ç®—ï¼Œå¾—åˆ°å¹³æ»‘çš„è¾¹ç¼˜ã€‚
è¯•è¯•è°ƒæ•´ <code>divisions</code> ä¸º 5 æˆ–è€… 6 ç„¶åè°ƒæ•´ <code>maxAngle</code> çš„å€¼è®©è¯¥å¹³æ»‘çš„åœ°æ–¹å¹³æ»‘ï¼Œè¯¥é”åˆ©çš„åœ°æ–¹é”åˆ©ï¼Œ
ä½ ä¹Ÿå¯ä»¥è®¾ç½® <code>mode</code> ä¸º <code>lit</code> æŸ¥çœ‹å…‰ç…§æ•ˆæœï¼Œè¿™æ˜¯æˆ‘ä»¬éœ€è¦æ³•å‘é‡çš„åŸå› ã€‚</p>
<h2 id="-">é‚£ä¹ˆï¼Œæˆ‘ä»¬å­¦åˆ°äº†ä»€ä¹ˆå‘¢ï¼Ÿ</h2>
<p>æˆ‘ä»¬å­¦åˆ°äº†å¦‚æœæƒ³åšä¸‰ç»´æ¨¡å‹å°±<strong>ç”¨ä¸‰ç»´å»ºæ¨¡åº“</strong>ğŸ˜</p>
<p>ä½ å¯èƒ½éœ€è¦ä»¥ä¸ª <a href="https://www.google.com/search?q=uv+editor">UV ç¼–è¾‘å™¨</a>ï¼Œ
å¸®åŠ©å®Œæˆå°é—­é—®é¢˜ä¹Ÿæ˜¯ä¸‰ç»´ç¼–è¾‘å™¨æä¾›çš„åŠŸèƒ½ã€‚ä»£æ›¿ä½¿ç”¨æœ‰é™çš„ç»„åˆå¤„ç†é—­åˆå¤„é—®é¢˜ï¼Œ
å¯ä»¥ä½¿ç”¨å…¶ä»–ç¼–è¾‘å™¨æä¾›çš„ç‰¹æ€§å¤„ç†é—­åˆå¤„å¹¶è½»æ¾çš„è·å–UVå€¼ï¼Œä¸‰ç»´ç¼–è¾‘å™¨è¿˜æ”¯æŒ
<a href="https://www.google.com/search?q=extruding+model">æ‹‰ä¼¸é¢</a>å’Œ
<a href="https://www.google.com/search?q=extruding+along+a+path">æ²¿è·¯å¾„æ‹‰ä¼¸</a>ï¼Œ
ä½ çœ‹äº†ä¹‹åå°±ä¼šå‘ç°å®ƒä»¬åŸºäºä¸Šæ–¹çš„åŠ å·¥æ–¹å¼ã€‚</p>
<h2 id="-">å‚è€ƒ</h2>
<p>å¦‚æœæ²¡æœ‰<a href="https://pomax.github.io/bezierinfo/">è¿™ç¯‡å‡ºè‰²çš„è´å¡å°”æ›²çº¿æ–‡ç« </a>
æˆ‘å°±ä¸å¯èƒ½å®Œæˆè¿™äº›å†…å®¹ã€‚</p>
<div class="webgl_bottombar">
<h3>è¿™é‡Œçš„æ¨¡è¿ç®—ç¬¦æ˜¯åšä»€ä¹ˆçš„?</h3>
<p>å¦‚æœä½ ä»”ç»†çœ‹äº† <code>lathePoints</code> æ–¹æ³•å°±ä¼šçœ‹åˆ°è®¡ç®—è§’åº¦æ—¶ä½¿ç”¨äº†æ¨¡è¿ç®—ç¬¦ã€‚</p>
<pre class="prettyprint showlinemods">
for (let division = 0; division <= numDivisions; ++division) {
  const u = division / numDivisions;
*  const angle = lerp(startAngle, endAngle, u) % (Math.PI * 2);
</pre>
<p>ä¸ºä»€ä¹ˆè¿™ä¹ˆåš?</p>
<p>å½“æˆ‘ä»¬å°†ç‚¹æ—‹è½¬æˆä¸€ä¸ªåœ†å½¢æ—¶æˆ‘ä»¬å¸Œæœ›èµ·ç‚¹å’Œç»ˆç‚¹æ˜¯åŒ¹é…çš„ã€‚ <code>Math.sin(0)</code> å’Œ
<code>Math.sin(Math.PI * 2)</code> åº”è¯¥ç›¸ç­‰ï¼Œä½†æ˜¯æµ®ç‚¹è¿ç®—å¹¶ä¸ç²¾ç¡®ï¼Œæ‰€ä»¥é€šå¸¸å®ƒä»¬å¹¶ä¸æ˜¯
100% çš„ç›¸ç­‰ã€‚</p>
<p>è¿™åœ¨è®¡ç®—æ³•å‘é‡çš„æ—¶å€™ååˆ†é‡è¦ï¼Œæˆ‘ä»¬æƒ³çŸ¥é“åˆ°ä¸€ä¸ªé¡¶ç‚¹å…±äº«çš„æ‰€æœ‰é¢ï¼Œæˆ‘ä»¬æ¯”è¾ƒé¡¶ç‚¹ï¼Œ
å¦‚æœç›¸åŒå°±è®¤ä¸ºæ˜¯åŒä¸€ç‚¹ï¼Œé‚£ä¹ˆå¦‚æœä¸è¢«è®¤ä¸ºæ˜¯åŒä¸€ç‚¹å°±ä¼šè®¡ç®—å‡ºé”™è¯¯çš„æ³•å‘é‡ã€‚
</p>
<p>è¿™æ˜¯è¿™ç§æƒ…å†µå‘ç”Ÿæ—¶çš„æ ·å­</p>
<img class="webgl_center" src="../resources/lathe-normal-seam.png" width="50%" />
<p>ä½ å¯ä»¥çœ‹åˆ°å®ƒä»¬åœ¨å…±äº«å¤„æ²¡æœ‰è¢«å½“ä½œç›¸åŒç‚¹ï¼Œå› ä¸ºå®ƒä»¬ä¸æ˜¯100%çš„ç›¸ç­‰ã€‚</p>
<p>èµ·åˆæˆ‘æƒ³é€šè¿‡æä¾›ä¸€ä¸ªè¯¯å·®èŒƒå›´ï¼Œæ£€æŸ¥é¡¶ç‚¹çš„è·ç¦»æ˜¯å¦åœ¨èŒƒå›´å†…ï¼Œå¦‚æœå°äºè¯¯å·®èŒƒå›´å°±è®¤ä¸ºæ˜¯åŒä¸€ç‚¹ã€‚
å°±åƒè¿™æ ·ã€‚
<pre class="prettyprint">
const epsilon = 0.0001;
const tempVerts = [];
function getVertIndex(position) {
  if (tempVerts.length) {
    // æ‰¾åˆ°æœ€è¿‘çš„ç‚¹
    let closestNdx = 0;
    let closestDistSq = v2.distanceSq(position, tempVerts[0]);
    for (let i = 1; i < tempVerts.length; ++i) {
      let distSq = v2.distanceSq(position, tempVerts[i]);
      if (distSq < closestDistSq) {
        closestDistSq = distSq;
        closestNdx = i;
      }
    }
    // æ˜¯å¦åœ¨è¯¯å·®èŒƒå›´å†…
    if (closestDistSq < epsilon) {
      // æ˜¯å°±è¿”å›é‚£ä¸ªç‚¹
      return closestNdx;
    }
  }
  // ä¸æ˜¯å°±å°†å®ƒæ·»åŠ åˆ°åºåˆ—ä¸­å¹¶è¿”å›ç´¢å¼•
  tempVerts.push(position);
  return tempVerts.length - 1;
}
</pre>
<p>å®ƒæˆåŠŸäº†ï¼Œæˆ‘è§£å†³äº†æ¥ç¼é—®é¢˜ã€‚ä½†æ˜¯å®ƒæ¶ˆè€—çš„æ—¶é—´å¤ªé•¿ï¼Œå¯¼è‡´UIäº¤äº’ä¸ç¨³å®šã€‚
è¿™æ˜¯å› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå¤æ‚åº¦ä¸º O^2 çš„è§£å†³æ–¹æ³•ï¼Œå¦‚æœä½ æ»‘åŠ¨æ»‘å—åœ¨æœ€å¤šçš„æƒ…å†µä¸‹å°±ä¼šåˆ›å»ºå¤§çº¦ 20000 ä¸ªç‚¹ï¼Œ
å†åŠ ä¸Š O^2 çš„å¤æ‚åº¦å°±æ˜¯ 3 äº¿æ¬¡è¿­ä»£ã€‚
</p>
<p>æˆ‘åœ¨ç½‘ä¸Šå¯»æ‰¾ç®€å•çš„æ–¹æ³•ä½†æ²¡æ‰¾åˆ°ï¼Œæˆ‘æƒ³è¿‡å°†æ‰€æœ‰ç‚¹éƒ½æ”¾åˆ°
<a href="https://en.wikipedia.org/wiki/Octree">å…«å‰æ ‘</a> ä¸­ï¼Œè®©å¯»æ‰¾åŒ¹é…ç‚¹é€Ÿåº¦å¿«ä¸€äº›ï¼Œ
ä½†é‚£ä¼¼ä¹è¿œç¦»äº†æœ¬ç« çš„èŒƒå›´ã€‚
</p>
<p>ç„¶åæˆ‘å°±æƒ³åˆ°æ—¢ç„¶åªæ˜¯ç»ˆç‚¹é—®é¢˜æˆ‘å°±å¯ä»¥è¿›è¡Œæ¨¡è¿ç®—ï¼Œè®©ç»“æœç›¸ç­‰ã€‚åŸå§‹ä»£ç åƒè¿™æ ·
</p>
<pre class="prettyprint">
  const angle = lerp(startAngle, endAngle, u);
</pre>
æ–°ä»£ç åƒè¿™æ ·
<pre class="prettyprint">
  const angle = lerp(startAngle, endAngle, u) % (Math.PI * 2);
</pre>
<p>ç”±äºæ¨¡è¿ç®— <code>endAngle</code> ä¸º <code>Math.PI * 2</code> æ—¶ <code>angle</code> å°±ä¸º 0ï¼Œå’Œèµ·å§‹ç‚¹ç›¸åŒï¼Œæ¥ç¼æ¶ˆå¤±äº†ï¼Œé—®é¢˜è§£å†³äº†ï¼</p>
<p>ä½†æ˜¯ï¼Œå³ä½¿è¿™æ ·å½“è®¾ç½® <code>distance</code> ä¸º 0.001 å¹¶ä¸” <code>divisions</code> ä¸º 60 æ—¶ï¼Œåœ¨æˆ‘çš„æœºå­ä¸Šè¿˜è¦å‡ ä¹1 ç§’é’Ÿçš„è¿ç®—ã€‚è¿™å¯èƒ½è¿˜æœ‰å¾ˆå¤šå¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ï¼Œä½†åˆ›å»ºå¤æ‚çš„ç½‘æ ¼æ˜¯ä¸€ä¸ªè€—æ—¶çš„å·¥ä½œï¼Œè¿™å°±æ˜¯æˆ‘çš„ä¸‰ç»´æ¸¸æˆå¯ä»¥ä»¥
60fps è¿è¡Œï¼Œä½†æ˜¯ä¸‰ç»´å»ºæ¨¡å·¥å…·é€šå¸¸éƒ½æ˜¯å¾ˆä½çš„å¸§ç‡ã€‚
</p>
</div>

<div class="webgl_bottombar">
<h3>ä½¿ç”¨çŸ©é˜µè¿ç®—æ˜¯ä¸æ˜¯å¤§æå°ç”¨äº†?</h3>
<p>å½“æˆ‘ä»¬æ—‹è½¬ç‚¹çš„æ—¶å€™ä½¿ç”¨è¿™æ ·çš„ä»£ç </p>
<pre class="prettyprint">
const mat = m4.yRotation(angle);
...
points.forEach((p, ndx) => {
  const tp = m4.transformPoint(mat, [...p, 0]);
  ...
</pre>
<p>ä½¿ç”¨ 4x4 çŸ©é˜µè½¬æ¢ä¸€ä¸ªä»»æ„ä¸‰ç»´ç‚¹éœ€è¦ 16 æ¬¡ä¹˜æ³•ï¼Œ12 æ¬¡åŠ æ³•ï¼Œå’Œ 3 æ¬¡é™¤æ³•ã€‚
æˆ‘ä»¬å¯ä»¥åªä½¿ç”¨ <a href="webgl-2d-rotation.html">å•ä½åœ†å½¢å¼çš„æ—‹è½¬è¿ç®—</a>ã€‚
</p>
<pre class="prettyprint">
const s = Math.sin(angle);
const c = Math.cos(angle);
...
points.forEach((p, ndx) => {
  const x = p[0];
  const y = p[1];
  const z = p[2];
  const tp = [
    x * c - z * s,
    y,
    x * s + z * c,
  ];
  ...
</pre>
<p>
è¿™æ ·å°±åªæœ‰ 4 æ¬¡ä¹˜æ³•å’Œ 2 æ¬¡åŠ æ³•ï¼Œæ²¡æœ‰æ–¹æ³•è°ƒç”¨ï¼Œåº”è¯¥è‡³å°‘è¦å¿« 6 å€ã€‚
</p>
<p>
è¿™ä¸ªä¼˜åŒ–å€¼å¾—ä¹ˆï¼Ÿå½“ç„¶ï¼Œå¯¹äºè¿™ä¸ªç‰¹æ®Šçš„ä¾‹å­ï¼Œæˆ‘ä¸è®¤ä¸ºè¿™ä¸ªæœ‰ä»€ä¹ˆæ„ä¹‰ï¼Œæˆ‘è®¤ä¸ºä½ å¯èƒ½éœ€è¦è®©ç”¨æˆ·å†³å®šç»•é‚£ä¸ªè½´æ—‹è½¬ï¼Œ
ä½¿ç”¨çŸ©é˜µå°±å¯ä»¥è®©ç”¨æˆ·ä¼ å…¥ä¸€ä¸ªè½´ï¼Œåƒè¿™æ ·
</p>
<pre class="prettyprint">
   const mat = m4.axisRotation(userSuppliedAxis, angle);
</pre>
<p>å“ªç§æ–¹å¼æ›´å¥½å…¶å®å–å†³äºä½ è‡ªå·±å’Œä½ çš„éœ€æ±‚ï¼Œæˆ‘è®¤ä¸ºæˆ‘ä¼šä¼˜å…ˆé€‰æ‹©çµæ´»çš„æ–¹å¼ï¼Œç„¶åè¿è¡Œå¤ªæ…¢æ—¶å†å»è€ƒè™‘ä¼˜åŒ–ã€‚</p>
</div>


      <hr class="lesson-comment-sep" />
      <div class="lesson-comments">
        <div>æœ‰å…³äºWebGLçš„ç–‘é—®? <a href="http://stackoverflow.com/questions/tagged/webgl">åœ¨Stackoverflowæé—®</a>ã€‚</div>
        <div>æœ‰æ„è§æˆ–å»ºè®®? <a href="http://github.com/vinci-mz/webgl-fundamentals/issues">åœ¨GitHubä¸Šæissue</a>ã€‚</div>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'webglfundamentals'; // required: replace example with your forum shortname
            var disqus_identifier = 'WebGL ä¸‰ç»´å‡ ä½•åŠ å·¥';
            var disqus_title = 'WebGL ä¸‰ç»´å‡ ä½•åŠ å·¥';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                if (window.location.hostname.indexOf("webglfundamentals.org") < 0) {
                    return;
                }
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </div>
    </div>
    <div class="col-sm-3 col-sm-offset-1 lesson-sidebar">
        <select id="language">
</select>

        <ul>
  <li>åŸºç¡€æ¦‚å¿µ</li>
  <ul>
    <li><a href="/webgl/lessons/zh_cn/webgl-fundamentals.html">WebGL åŸºç¡€æ¦‚å¿µ</a></li>
    <li><a href="/webgl/lessons/zh_cn/webgl-how-it-works.html">WebGL å·¥ä½œåŸç†</a></li>
    <li><a href="/webgl/lessons/zh_cn/webgl-shaders-and-glsl.html">WebGL ç€è‰²å™¨å’ŒGLSL</a></li>
  </ul>
  <li>å›¾åƒå¤„ç†</li>
  <ul>
    <li><a href="/webgl/lessons/zh_cn/webgl-image-processing.html">WebGL å›¾åƒå¤„ç†</a></li>
    <li><a href="/webgl/lessons/zh_cn/webgl-image-processing-continued.html">WebGL è¿›ä¸€æ­¥å¤„ç†å›¾åƒ</a></li>
  </ul>
  <li>äºŒç»´å¹³ç§»ï¼Œæ—‹è½¬ï¼Œç¼©æ”¾å’ŒçŸ©é˜µè¿ç®—</li>
  <ul>
    <li><a href="/webgl/lessons/zh_cn/webgl-2d-translation.html">WebGL äºŒç»´å¹³ç§»</a></li>
    <li><a href="/webgl/lessons/zh_cn/webgl-2d-rotation.html">WebGL äºŒç»´æ—‹è½¬</a></li>
    <li><a href="/webgl/lessons/zh_cn/webgl-2d-scale.html">WebGL äºŒç»´ç¼©æ”¾</a></li>
    <li><a href="/webgl/lessons/zh_cn/webgl-2d-matrices.html">WebGL äºŒç»´çŸ©é˜µ</a></li>
  </ul>
  <li>ä¸‰ç»´</li>
  <ul>
    <li><a href="/webgl/lessons/zh_cn/webgl-3d-orthographic.html">WebGL ä¸‰ç»´æ­£å°„æŠ•å½±</a></li>
    <li><a href="/webgl/lessons/zh_cn/webgl-3d-perspective.html">WebGL ä¸‰ç»´é€è§†æŠ•å½±</a></li>
    <li><a href="/webgl/lessons/zh_cn/webgl-3d-camera.html">WebGL ä¸‰ç»´ç›¸æœº</a></li>
  </ul>
  <li>å…‰ç…§</li>
  <ul>
    <li><a href="/webgl/lessons/zh_cn/webgl-3d-lighting-directional.html">WebGL ä¸‰ç»´æ–¹å‘å…‰æº</a></li>
    <li><a href="/webgl/lessons/zh_cn/webgl-3d-lighting-point.html">WebGL ä¸‰ç»´ç‚¹å…‰æº</a></li>
  </ul>
  <li>ç»„ç»‡å’Œé‡æ„</li>
  <ul>
    <li><a href="/webgl/lessons/zh_cn/webgl-less-code-more-fun.html">WebGL ç å°‘è¶£å¤š</a></li>
    <li><a href="/webgl/lessons/zh_cn/webgl-drawing-multiple-things.html">WebGL ç»˜åˆ¶å¤šä¸ªç‰©ä½“</a></li>
    <li><a href="/webgl/lessons/zh_cn/webgl-scene-graph.html">WebGL åœºæ™¯å›¾</a></li>
  </ul>
  <li>å‡ ä½•</li>
  <ul>
    <li><a href="/webgl/lessons/zh_cn/webgl-3d-geometry-lathe.html">WebGL ä¸‰ç»´å‡ ä½•åŠ å·¥</a></li>
  </ul>
  <li>çº¹ç†</li>
  <ul>
    <li><a href="/webgl/lessons/zh_cn/webgl-3d-textures.html">WebGL ä¸‰ç»´çº¹ç†</a></li>
    <li><a href="/webgl/lessons/zh_cn/webgl-2-textures.html">WebGL ä½¿ç”¨å¤šä¸ªçº¹ç†</a></li>
    <li><a href="/webgl/lessons/zh_cn/webgl-cors-permission.html">WebGL - Cross Origin Images</a></li>
  </ul>
  <li>Techniques</li>
  <ul>
    <li>2D</li>
    <ul>
      <li><a href="/webgl/lessons/zh_cn/webgl-2d-drawimage.html">WebGL 2D - DrawImage</a>
      <li><a href="/webgl/lessons/zh_cn/webgl-2d-matrix-stack.html">WebGL 2D - Matrix Stack</a>
    </ul>
    <li>Text</li>
    <ul>
      <li><a href="/webgl/lessons/zh_cn/webgl-text-html.html">WebGL Text - HTML</a>
      <li><a href="/webgl/lessons/zh_cn/webgl-text-canvas2d.html">WebGL Text - Canvas 2D</a>
      <li><a href="/webgl/lessons/zh_cn/webgl-text-texture.html">WebGL Text - Using a Texture</a>
      <li><a href="/webgl/lessons/zh_cn/webgl-text-glyphs.html">WebGL Text - Using a Glyph Texture</a>
    </ul>
  </ul>
  <li>æ‚é¡¹</li>
  <ul>
    <li><a href="/webgl/lessons/zh_cn/webgl-setup-and-installation.html">WebGL è®¾ç½®å’Œå®‰è£…</a></li>
    <li><a href="/webgl/lessons/zh_cn/webgl-boilerplate.html">WebGL æ ·æ¿</a></li>
    <li><a href="/webgl/lessons/zh_cn/webgl-resizing-the-canvas.html">WebGL Resizing the Canvas</a></li>
    <li><a href="/webgl/lessons/zh_cn/webgl-animation.html">WebGL - Animation</a></li>
    <li><a href="/webgl/lessons/zh_cn/webgl-and-alpha.html">WebGL and Alpha</a></li>
    <li><a href="/webgl/lessons/zh_cn/webgl-2d-vs-3d-library.html">WebGL - 2D vs 3D libraries</a></li>
    <li><a href="/webgl/lessons/zh_cn/webgl-anti-patterns.html">WebGL - Anti-Patterns</a></li>
  </ul>
</ul>
<ul>
  <li><a href="/docs/">Helper API Docs</a></li>
  <li><a href="http://twgljs.org">TWGL, A tiny WebGL helper library</a></li>
  <li><a href="https://github.com/greggman/webgl-fundamentals">github</a></li>
</ul>

    </div>
  </div>
</div>
</body>
<script src="/3rdparty/jquery-1.11.2.min.js"></script>
<script src="/webgl/lessons/resources/prettify.js"></script>
<script src="/webgl/lessons/resources/lesson.js"></script>
<script src="/langdb.js"></script>
<script src="/webgl/lessons/resources/languages.js"></script>
<script src="//cdn.webglstats.com/stat.js" defer="defer" async="async"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59804936-1', 'auto');
  ga('send', 'pageview');

</script>


</html>



