<!DOCTYPE html>
<!-- this file is auto-generated from webgl/lessons/ko/webgl-3d-camera.md. Do not edited directly -->
<!--
Copyright 2021 GFXFundamentals.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

*   Redistributions of source code must retain the above copyright
    notice, this list of conditions and the following disclaimer.

*   Redistributions in binary form must reproduce the above
    copyright notice, this list of conditions and the following disclaimer
    in the documentation and/or other materials provided with the
    distribution.

*   Neither the name of GFXFundamentals. nor the names of his
    contributors may be used to endorse or promote products derived from
    this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-->
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="WebGL에서 카메라가 작동하는 방식">
<meta name="keywords" content="webgl graphics">
<meta name="thumbnail" content="https://webglfundamentals.org/webgl/lessons/screenshots/webgl-3d-camera_ko.jpg">

<meta property="og:title" content="WebGL 3D - 카메라">
<meta property="og:type" content="website">
<meta property="og:image" content="https://webglfundamentals.org/webgl/lessons/screenshots/webgl-3d-camera_ko.jpg">
<meta property="og:description" content="WebGL에서 카메라가 작동하는 방식">
<meta property="og:url" content="https://webglfundamentals.org/webgl/lessons/ko/webgl-3d-camera.html">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@greggman">
<meta name="twitter:creator" content="@greggman">
<meta name="twitter:domain" content="webglfundamentals.org">
<meta name="twitter:title" content="WebGL 3D - 카메라">
<meta name="twitter:url" content="https://webglfundamentals.org/webgl/lessons/ko/webgl-3d-camera.html">
<meta name="twitter:description" content="WebGL에서 카메라가 작동하는 방식">
<meta name="twitter:image:src" content="https://webglfundamentals.org/webgl/lessons/screenshots/webgl-3d-camera_ko.jpg">

<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@graph":[
    {
      "@type":"WebSite",
      "@id":"https://webglfundamentals.org/#website",
      "url":"https://webglfundamentals.org/",
      "name":"WebglFundamentals"
    },
    {
      "@type":"ImageObject",
      "@id":"https://webglfundamentals.org/webgl/lessons/ko/webgl-3d-camera.html#primaryimage",
      "url":"https://webglfundamentals.org/webgl/lessons/screenshots/webgl-3d-camera_ko.jpg",
      "width":1200,
      "height":630
    },
    {
      "@type":"WebPage",
      "@id":"https://webglfundamentals.org/webgl/lessons/ko/webgl-3d-camera.html#webpage",
      "url":"https://webglfundamentals.org/webgl/lessons/ko/webgl-3d-camera.html",
      "inLanguage":"ko",
      "name":"WebGL 3D - 카메라",
      "keywords":"webgl graphics programming",
      "isPartOf":{
        "@id":"https://webglfundamentals.org/#website"
      },
      "primaryImageOfPage":{
        "@id":"https://webglfundamentals.org/webgl/lessons/ko/webgl-3d-camera.html#primaryimage"
      }
    }
  ]
}
</script>


<title>WebGL 3D - 카메라</title>
<link href="/webgl/lessons/resources/webglfundamentals-icon.png" rel="shortcut icon" type="image/png">
<link rel="stylesheet" href="/webgl/lessons/lang.css">
<link rel="stylesheet" href="/webgl/lessons/ko/lang.css">
<link rel="stylesheet" href="/webgl/lessons/resources/lesson.css">

  <link rel="alternate" hreflang="en" href="https://webglfundamentals.org/webgl/lessons/webgl-3d-camera.html">
  <link rel="alternate" hreflang="fr" href="https://webglfundamentals.org/webgl/lessons/fr/webgl-3d-camera.html">
  <link rel="alternate" hreflang="ja" href="https://webglfundamentals.org/webgl/lessons/ja/webgl-3d-camera.html">
  <link rel="alternate" hreflang="ko" href="https://webglfundamentals.org/webgl/lessons/ko/webgl-3d-camera.html">
  <link rel="alternate" hreflang="pl" href="https://webglfundamentals.org/webgl/lessons/pl/webgl-3d-camera.html">
  <link rel="alternate" hreflang="pt-br" href="https://webglfundamentals.org/webgl/lessons/pt-br/webgl-3d-camera.html">
  <link rel="alternate" hreflang="ru" href="https://webglfundamentals.org/webgl/lessons/ru/webgl-3d-camera.html">
  <link rel="alternate" hreflang="zh_cn" href="https://webglfundamentals.org/webgl/lessons/zh_cn/webgl-3d-camera.html">




</head>
<body>
<div class="webgl_navbar">
  <div>
    <select class="language">
    <option value="/webgl/lessons/webgl-3d-camera.html" >English</a>
    <option value="/webgl/lessons/fr/webgl-3d-camera.html" >Français</a>
    <option value="/webgl/lessons/ja/webgl-3d-camera.html" >日本語</a>
    <option value="/webgl/lessons/ko/webgl-3d-camera.html" selected>한국어</a>
    <option value="/webgl/lessons/pl/webgl-3d-camera.html" >Polski</a>
    <option value="/webgl/lessons/pt-br/webgl-3d-camera.html" >Portuguese</a>
    <option value="/webgl/lessons/ru/webgl-3d-camera.html" >Русский</a>
    <option value="/webgl/lessons/zh_cn/webgl-3d-camera.html" >简体中文</a>
</select>


    <a href="#toc">목차</a>
  </div>
</div>
<div class="webgl_header">
  <h1><a href="/webgl/lessons/ko/">WebGLFundamentals.org</a></h1>
<style>
#forkongithub>div {
    background: #000;
    color: #fff;
    font-family: arial,sans-serif;
    text-align: center;
    font-weight: bold;
    padding: 5px 40px;
    font-size: 0.9rem;
    line-height: 1.3rem;
    position: relative;
    transition: 0.5s;
    display: block;
    width: 400px;
    position: absolute;
    top: 0;
    right: 0;
    transform: translateX(200px) rotate(45deg) translate(10px,70px);
    box-shadow: 4px 4px 10px rgba(0,0,0,0.8);
    pointer-events: auto;
}
#forkongithub a {
  text-decoration: none;
  color: #fff;
}
#forkongithub>div:hover {
    background: #c11;
    color: #fff;
}
#forkongithub .contributors {
  font-size: 0.75rem;
  background: rgba(255,255,255,0.2);
  line-height: 1.2;
  padding: 0.1em;
}
#forkongithub>div::before,#forkongithub>div::after {
    content: "";
    width: 100%;
    display: block;
    position: absolute;
    top: 1px;
    left: 0;
    height: 1px;
    background: #fff;
}
#forkongithub>div::after {
    bottom: 1px;
    top: auto;
}

#forkongithub{
    z-index: 9999;
    /* needed for firefox */
    overflow: hidden;
    width: 300px;
    height: 300px;
    position: absolute;
    right: 0;
    top: 0;
    pointer-events: none;
}
#forkongithub svg{
  width: 1em;
  height: 1em;
  vertical-align: middle;
}
#forkongithub img {
  width: 1em;
  height: 1em;
  border-radius: 100%;
  vertical-align: middle;
}

@media (max-width: 900px) {
    #forkongithub>div {
        line-height: 1.2rem;
    }
}
@media (max-width: 700px) {
  #forkongithub {
    display: none;
  }
}
@media (max-width: 410px) {
    #forkongithub>div {
        font-size: 0.7rem;
        transform: translateX(150px) rotate(45deg) translate(20px,40px);
    }
}

</style>
<div id="forkongithub"><div><div><a href="https://github.com/gfxfundamentals/webgl-fundamentals">Fix, Fork, Contribute <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 136 133" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(3.92891,0,0,3.92891,67.867,129.125)">
        <path d="M0,-31.904C-8.995,-31.904 -16.288,-24.611 -16.288,-15.614C-16.288,-8.417 -11.621,-2.312 -5.148,-0.157C-4.333,-0.008 -4.036,-0.511 -4.036,-0.943C-4.036,-1.329 -4.05,-2.354 -4.058,-3.713C-8.589,-2.729 -9.545,-5.897 -9.545,-5.897C-10.286,-7.779 -11.354,-8.28 -11.354,-8.28C-12.833,-9.29 -11.242,-9.27 -11.242,-9.27C-9.607,-9.155 -8.747,-7.591 -8.747,-7.591C-7.294,-5.102 -4.934,-5.821 -4.006,-6.238C-3.858,-7.29 -3.438,-8.008 -2.972,-8.415C-6.589,-8.826 -10.392,-10.224 -10.392,-16.466C-10.392,-18.244 -9.757,-19.698 -8.715,-20.837C-8.883,-21.249 -9.442,-22.905 -8.556,-25.148C-8.556,-25.148 -7.188,-25.586 -4.076,-23.478C-2.777,-23.84 -1.383,-24.02 0.002,-24.026C1.385,-24.02 2.779,-23.84 4.08,-23.478C7.19,-25.586 8.555,-25.148 8.555,-25.148C9.444,-22.905 8.885,-21.249 8.717,-20.837C9.761,-19.698 10.392,-18.244 10.392,-16.466C10.392,-10.208 6.583,-8.831 2.954,-8.428C3.539,-7.925 4.06,-6.931 4.06,-5.411C4.06,-3.234 4.04,-1.477 4.04,-0.943C4.04,-0.507 4.333,0 5.16,-0.159C11.628,-2.318 16.291,-8.419 16.291,-15.614C16.291,-24.611 8.997,-31.904 0,-31.904" style="fill:white;"/>
    </g>
</svg>
</a></div></div></div>

</div>


<div class="container">
  <div class="lesson-title">
    <h1>WebGL 3D - 카메라</h1>
  </div>
  <div class="lesson">
    <div class="lesson-main">
      <p>이 포스트는 WebGL 관련 시리즈에서 이어집니다.
첫 번째는 <a href="webgl-fundamentals.html">기초</a>로 시작했고, 이전에는 <a href="webgl-3d-perspective.html">3D perspective projection</a>에 관한 것이었습니다.
아직 읽지 않으셨다면 해당 글들을 먼저 읽어주세요.</p>
<p><code class="notranslate" translate="no">m4.perspective</code> 함수는 F가 원점(0, 0, 0)에 있으리라 생각하고, 절두체의 객체는 원점 앞 <code class="notranslate" translate="no">-zNear</code>에서 <code class="notranslate" translate="no">-zFar</code>까지 있기 때문에, 지난 포스트에서 우리는 F를 절두체 앞으로 옮겨야 했습니다.</p>
<p>뷰 앞의 물체를 움직이는 건 좋은 방법이 아닌 것 같습니다.
현실에서는 보통 건물의 사진을 찍기 위해 카메라를 움직이죠.</p>
<p><div class="webgl_diagram_container">
  <iframe class="webgl_example " style="width: 400px; height: 300px;" src="/webgl/lessons/resources/camera-move-camera.html?mode=0"></iframe>
  <div class="webgl_center">카메라를 객체로 이동</div>
</div>

</p>
<p>보통은 카메라 앞으로 건물을 움직이지 않습니다.</p>
<p><div class="webgl_diagram_container">
  <iframe class="webgl_example " style="width: 400px; height: 300px;" src="/webgl/lessons/resources/camera-move-camera.html?mode=1"></iframe>
  <div class="webgl_center">객체를 카메라로 이동</div>
</div>

</p>
<p>하지만 지난 포스트에서 우리는 -Z축의 원점 앞에 있도록 하는 투영법을 찾아냈습니다.
이를 위해 하고 싶은 것은 원점으로 카메라를 옮기고 다른 모든 걸 적절하게 이동하여 <em>카메라를 기준으로 동일한 위치</em>에 있도록 하는 겁니다.</p>
<p><div class="webgl_diagram_container">
  <iframe class="webgl_example " style="width: 400px; height: 300px;" src="/webgl/lessons/resources/camera-move-camera.html?mode=2"></iframe>
  <div class="webgl_center">객체를 뷰로 이동</div>
</div>

</p>
<p>카메라 앞의 world를 효율적으로 움직여야 하는데요.
가장 쉬운 방법은 &quot;inverse&quot; 행렬을 사용하는 겁니다.
일반적인 경우에 역행렬을 계산하는 수식은 복잡하지만 개념적으로는 쉽습니다.
&quot;역&quot;은 어떤 값의 정반대로 사용하는 값입니다.
예를 들어 X에서 123으로 translate하는 행렬의 역은 X에서 -123으로 translate하는 행렬입니다.
5로 scale하는 행렬의 역은 1/5이나 0.2로 scale하는 행렬입니다.
X축을 중심으로 30&deg; rotate하는 행렬의 역은 X축을 중심으로 -30&deg; rotate하는 행렬이 됩니다.</p>
<p>지금까지 &#39;F&#39;의 위치와 orientation에 영향을 주기 위한 translation, rotation, scale을 사용했습니다.
모든 행렬을 곱한 후 &#39;F&#39;를 원점에서 원하는 위치, 크기, orientation으로 움직이는 방법을 나타내는 단일 행렬이 생기는데요.
카메라에서도 똑같이 할 수 있습니다.
카메라를 원점에서 원하는 위치로 이동하고 회전하는 방법을 알려주는 행렬이 있으면, 다른 모든 것을 정반대의 결과로 이동하고 회전하는 방법을 알려주는 행렬인 역행렬을 계산할 수 있으므로, 카메라는 (0, 0, 0)에 있도록 하고 모든 걸 그 앞으로 옮길 겁니다.</p>
<p>위 다이어그램처럼 &#39;F&#39;가 선회하는 3D scene을 만들어봅시다.</p>
<p>우선 5개를 그리고 있고 모두 동일한 projection matrix를 사용하기 때문에 루프 바깥에서 계산할 겁니다.</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-js">// projection matrix 계산
var aspect = gl.canvas.clientWidth / gl.canvas.clientHeight;
var zNear = 1;
var zFar = 2000;
var projectionMatrix = m4.perspective(fieldOfViewRadians, aspect, zNear, zFar);
</code></pre>
<p>다음으로 카메라 행렬을 계산할 겁니다.
행렬은 world에서 카메라의 위치와 orientation을 나타냅니다.
아래 코드는 카메라가 원점을 중심으로 radius * 1.5의 거리에서 원점을 바라보며 회전하는 행렬을 만듭니다.</p>
<p><div class="webgl_diagram_container">
  <iframe class="webgl_example " style="width: 400px; height: 300px;" src="/webgl/lessons/resources/camera-move-camera.html?mode=3"></iframe>
  <div class="webgl_center">camera movement</div>
</div>

</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-js">var numFs = 5;
var radius = 200;

// 카메라에 대한 행렬 계산
var cameraMatrix = m4.yRotation(cameraAngleRadians);
cameraMatrix = m4.translate(cameraMatrix, 0, 0, radius * 1.5);
</code></pre>
<p>그런 다음 카메라 행렬에서 &quot;view matrix&quot;를 계산합니다.
&quot;View matrix&quot;는 마치 카메라가 원점(0,0,0)에 있는 것처럼, 사실상 카메라를 기준으로 하도록 카메라의 정반대로 모든 걸 움직이는 행렬입니다.
역행렬(제공된 행렬의 정반대를 수행하는 행렬)을 계산하는 <code class="notranslate" translate="no">inverse</code> 함수를 사용하여 이를 수행할 수 있습니다.
이 경우 제공된 행렬은 원점을 기준으로 카메라를 어떤 위치와 orientation으로 움직입니다.
그 반대는 다른 모든 걸 옮겨서 카메라가 원점에 있도록 하는 행렬입니다.</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-js">// Camera matrix로 view matrix 만들기
var viewMatrix = m4.inverse(cameraMatrix);
</code></pre>
<p>이제 view matrix와 projection matrix를 view projection matrix로 합칩니다.</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-js">// View projection matrix 계산
var viewProjectionMatrix = m4.multiply(projectionMatrix, viewMatrix);
</code></pre>
<p>마지막으로 F의 원을 그립니다.
각 F에 대해 view projection matrix로 시작한 다음, 반경 단위로 회전하고 이동합니다.</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-js">for (var ii = 0; ii &lt; numFs; ++ii) {
  var angle = (ii * Math.PI * 2) / numFs;
  var x = Math.cos(angle) * radius;
  var y = Math.sin(angle) * radius;

  // View projection matrix로 시작하여 F에 대한 행렬 계산
  var matrix = m4.translate(viewProjectionMatrix, x, 0, y);

  // 행렬 설정
  gl.uniformMatrix4fv(matrixLocation, false, matrix);

  // Geometry 그리기
  var primitiveType = gl.TRIANGLES;
  var offset = 0;
  var count = 16 * 6;
  gl.drawArrays(primitiveType, offset, count);
}
</code></pre>
<p>그리고 짜잔!
카메라가 F의 원을 돌고 있습니다.
<code class="notranslate" translate="no">cameraAngle</code>을 드래그하여 카메라를 움직여보세요.</p>
<p><div class="webgl_example_container">
  <iframe class="webgl_example" style=" " src="/webgl/resources/editor.html?url=/webgl/lessons/..%2Fwebgl-3d-camera.html"></iframe>
  <a class="webgl_center" href="/webgl/lessons/../webgl-3d-camera.html" target="_blank">새 창을 열려면 여기를 클릭</a>
</div>

</p>
<p>전부 괜찮아 보이지만 rotate와 translate를 사용하여 항상 카메라를 원하는 곳으로 움직이고 보고 싶은 방향을 향하게 하는 것은 쉽지 않습니다.
예를 들어 카메라가 F 중에 특정 하나를 가리키도록 하려면, &#39;F&#39;의 원이 회전하는 동안 카메라가 해당 &#39;F&#39;를 가리키도록 회전하는 방법을 계산하기 위해 꽤 어려운 수식이 필요합니다.</p>
<p>다행히 더 쉬운 방법이 있습니다.
원하는 카메라 위치와 가리킬 대상을 결정한 다음, 그곳에 카메라를 배치하는 행렬을 계산할 수 있습니다.
행렬이 작동하는 방식에 따라 이 작업은 놀라울 정도로 쉽습니다.</p>
<p>먼저 원하는 카메라 위치를 알아야 합니다.
이를 <code class="notranslate" translate="no">cameraPosition</code>이라 부를겁니다.
그런 다음 보고 싶거나 목표로 하고 싶은 것의 위치를 알아야 합니다.
이건 <code class="notranslate" translate="no">target</code>이라 부를겁니다.
<code class="notranslate" translate="no">cameraPosition</code>에서 <code class="notranslate" translate="no">target</code>을 빼면 대상에 도달하기 위해 카메라가 이동해야 하는 방향을 가리키는 벡터가 생깁니다.
이걸 <code class="notranslate" translate="no">zAxis</code>라 부릅시다.
Since we know the camera points in the -Z direction we can subtract the other way <code class="notranslate" translate="no">cameraPosition - target</code>.
결과를 정규화하고 행렬의 <code class="notranslate" translate="no">z</code>부분으로 직접 복사합니다.</p>
<div class="webgl_math_center"><pre class="webgl_math">
+----+----+----+----+
|    |    |    |    |
+----+----+----+----+
|    |    |    |    |
+----+----+----+----+
| Zx | Zy | Zz |    |
+----+----+----+----+
|    |    |    |    |
+----+----+----+----+
</pre></div>

<p>행렬의 이 부분은 Z축을 나타냅니다.
이 경우에는 카메라의 Z축입니다.
벡터 정규화는 벡터를 1.0을 나타내는 벡터로 만드는 걸 의미합니다.
<a href="webgl-2d-rotation.html">2D Rotation</a>으로 돌아가보면 단위원이 2D 회전에 어떻게 도움이 되는지 말했었는데요.
3D에서는 단위구가 필요하고 정규화된 벡터는 단위구의 한 점을 나타냅니다.</p>
<p><div class="webgl_diagram_container">
  <iframe class="webgl_example " style="width: 400px; height: 300px;" src="/webgl/lessons/resources/cross-product-diagram.html?mode=0"></iframe>
  <div class="webgl_center"><span class='z-axis'>Z축</span></div>
</div>

</p>
<p>그래도 정보가 충분하지 않습니다.
단일 벡터만으로도 단위구의 한 점을 제공하지만, 해당 점에서 사물이 향하는 orientation은 뭘까요?
이를 알기 위해서는 행렬의 다른 부분을 채워야 합니다.
특히 X축과 Y축 부분이요.
우리는 일반적으로 이 세 부분이 서로 수직임을 알고있습니다.
또한 &quot;일반적으로&quot; 카메라를 똑바로 향하지 않는다는 것도 알죠.
이를 고려해서 이 경우 (0,1,0)인 위쪽이 어느 쪽인지 안다면, 행렬에 대한 X축과 Y축을 계산하기 위해 그것과 &quot;벡터곱&quot;을 사용할 수 있습니다.</p>
<p>수학적 용어로 벡터곱이 무엇을 의미하는지는 모르겠습니다.
제가 아는 건 2개의 단위 벡터가 있고 이들을 벡터곱으로 계산하면, 이 두 벡터에 수직인 벡터를 얻는다는 겁니다.
다시 말해 남동쪽을 가리키는 벡터와 위쪽을 가리키는 벡터를 벡터곱하면, 남동쪽과 위쪽에 수직인 두 벡터이기 때문에, 남서쪽이나 북동쪽을 가리키는 벡터를 얻게 됩니다.
계산하는 순서에 따라 반대의 결과를 얻게 될 겁니다.</p>
<p>하여튼 <span class="z-axis"><code class="notranslate" translate="no">zAxis</code></span>와 <span style="color: gray;"><code class="notranslate" translate="no">up</code></span>의 벡터곱을 계산하면 카메라의 <span class="x-axis">xAxis</span>를 얻을 수 있습니다.</p>
<p><div class="webgl_diagram_container">
  <iframe class="webgl_example " style="width: 400px; height: 300px;" src="/webgl/lessons/resources/cross-product-diagram.html?mode=1"></iframe>
  <div class="webgl_center"><span style='color:gray;'>up</span> x <span class='z-axis'>zAxis</span> = <span class='x-axis'>xAxis</span></div>
</div>

</p>
<p>그리고 이제 <span class="x-axis"><code class="notranslate" translate="no">xAxis</code></span>가 있으니 <span class="z-axis"><code class="notranslate" translate="no">zAxis</code></span>와 <span class="x-axis"><code class="notranslate" translate="no">xAxis</code></span>를 벡터곱해서 카메라의 <span class="y-axis"><code class="notranslate" translate="no">yAxis</code></span>를 얻을 수 있습니다.</p>
<p><div class="webgl_diagram_container">
  <iframe class="webgl_example " style="width: 400px; height: 300px;" src="/webgl/lessons/resources/cross-product-diagram.html?mode=2"></iframe>
  <div class="webgl_center"><span class='z-axis'>zAxis</span> x <span class='x-axis'>xAxis</span> = <span class='y-axis'>yAxis</span></div>
</div>

</p>
<p>이제 남은 일은 3개의 축을 행렬로 연결하는 겁니다.
이는 <code class="notranslate" translate="no">cameraPosition</code>에서 <code class="notranslate" translate="no">target</code>을 가리키는 무언가를 향하는 행렬을 제공하는데요.
<code class="notranslate" translate="no">position</code>만 추가하면 됩니다.</p>
<div class="webgl_math_center"><pre class="webgl_math">
+----+----+----+----+
| <span class="x-axis">Xx</span> | <span class="x-axis">Xy</span> | <span class="x-axis">Xz</span> |  0 |  <- <span class="x-axis">x축</span>
+----+----+----+----+
| <span class="y-axis">Yx</span> | <span class="y-axis">Yy</span> | <span class="y-axis">Yz</span> |  0 |  <- <span class="y-axis">y축</span>
+----+----+----+----+
| <span class="z-axis">Zx</span> | <span class="z-axis">Zy</span> | <span class="z-axis">Zz</span> |  0 |  <- <span class="z-axis">z축</span>
+----+----+----+----+
| Tx | Ty | Tz |  1 |  <- 카메라 위치
+----+----+----+----+
</pre></div>

<p>두 벡터의 벡터곱을 계산하는 코드</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-js">function cross(a, b) {
  return [
    a[1] * b[2] - a[2] * b[1],
    a[2] * b[0] - a[0] * b[2],
    a[0] * b[1] - a[1] * b[0],
  ];
}
</code></pre>
<p>두 벡터를 뺄셈하는 코드</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-js">function subtractVectors(a, b) {
  return [a[0] - b[0], a[1] - b[1], a[2] - b[2]];
}
</code></pre>
<p>벡터를 정규화하는 코드 (단위 벡터로 만듦)</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-js">function normalize(v) {
  var length = Math.sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2]);
  // 0으로 나뉘지 않도록 하기
  if (length &gt; 0.00001) {
    return [v[0] / length, v[1] / length, v[2] / length];
  } else {
    return [0, 0, 0];
  }
}
</code></pre>
<p>&quot;lookAt&quot; 행렬을 계산하는 코드</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-js">var m4 = {
  lookAt: function(cameraPosition, target, up) {
    var zAxis = normalize(
        subtractVectors(cameraPosition, target));
    var xAxis = normalize(cross(up, zAxis));
    var yAxis = normalize(cross(zAxis, xAxis));

    return [
       xAxis[0], xAxis[1], xAxis[2], 0,
       yAxis[0], yAxis[1], yAxis[2], 0,
       zAxis[0], zAxis[1], zAxis[2], 0,
       cameraPosition[0],
       cameraPosition[1],
       cameraPosition[2],
       1,
    ];
  }
</code></pre>
<p>다음은 카메라를 움직일 때 특정 &#39;F&#39;를 가리키도록 만드는 방법입니다.</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-js">  ...

  // 첫 번째 F의 위치 계산
  var fPosition = [radius, 0, 0];

  // 원에서 카메라가 있는 위치를 계산하는 행렬 수학 사용
  var cameraMatrix = m4.yRotation(cameraAngleRadians);
  cameraMatrix = m4.translate(cameraMatrix, 0, 0, radius * 1.5);

  // 계산한 행렬에서 카메라의 위치 얻기
  var cameraPosition = [
    cameraMatrix[12],
    cameraMatrix[13],
    cameraMatrix[14],
  ];

  var up = [0, 1, 0];

  // lookAt을 사용하여 카메라의 행렬 계산
  var cameraMatrix = m4.lookAt(cameraPosition, fPosition, up);

  // Camera matrix로 view matrix 만들기
  var viewMatrix = m4.inverse(cameraMatrix);

  ...
</code></pre>
<p>그리고 여기 결과입니다.</p>
<p><div class="webgl_example_container">
  <iframe class="webgl_example" style=" " src="/webgl/resources/editor.html?url=/webgl/lessons/..%2Fwebgl-3d-camera-look-at.html"></iframe>
  <a class="webgl_center" href="/webgl/lessons/../webgl-3d-camera-look-at.html" target="_blank">새 창을 열려면 여기를 클릭</a>
</div>

</p>
<p>슬라이더를 드래그해서 카메라가 어떻게 &#39;F&#39;를 따라가는지 확인해보세요.</p>
<p>참고로 카메라 이외에도 &quot;lookAt&quot; 수식을 사용할 수 있습니다.
일반적인 용도는 누군가를 따라가는 캐릭터의 머리를 만드는 겁니다.
목표를 겨냥하는 포탑을 만들 수 있고, 개체가 경로를 따라가게 만들 수도 있는데요.
먼저 경로상에 대상이 있는 위치를 계산합니다.
그런 다음 잠시 후에 경로상에 대상이 어디에 있는지 계산합니다.
두 값을 <code class="notranslate" translate="no">lookAt</code> 함수로 연결하면 개체가 경로를 따라가고 경로를 향하도록 하는 행렬을 얻을 수 있습니다.</p>
<p>다음은 <a href="webgl-animation.html">애니메이션</a>에 대해 배워보겠습니다.</p>
<div class="webgl_bottombar">
<h3>lookAt 표준</h3>
<p>
대부분의 3D 수학 라이브러리는 <code class="notranslate" translate="no">lookAt</code> 함수를 가지고 있습니다.
종종 "camera matrix"이 아닌 "view matrix"를 만들기 위해 설계된 함수들이 있는데요.
다시 말해 카메라 자체를 움직이는 행렬이 아니라 카메라 앞에 있는 모든 걸 움직이는 행렬을 만듭니다.
</p>
<p>
저는 이게 덜 유용하다고 생각합니다.
lookAt 함수는 많은 용도로 사용되는데요.
View matrix가 필요할 때 <code class="notranslate" translate="no">inverse</code>를 호출하기 쉽긴 하지만, 어떤 캐릭터의 머리가 다른 캐릭터를 따라가게 하거나 어떤 포탑이 목표를 겨냥하게 만들기 위해 <code class="notranslate" translate="no">lookAt</code>을 사용한다면, <code class="notranslate" translate="no">lookAt</code>이 world space에서 개체의 방향과 위치를 지정하는 행렬을 반환하는 경우에 훨씬 더 유용합니다.
</p>
<div class="webgl_example_container">
  <iframe class="webgl_example" style=" " src="/webgl/resources/editor.html?url=/webgl/lessons/..%2Fwebgl-3d-camera-look-at-heads.html"></iframe>
  <a class="webgl_center" href="/webgl/lessons/../webgl-3d-camera-look-at-heads.html" target="_blank">새 창을 열려면 여기를 클릭</a>
</div>


</div>


    </div>
    <div class="lesson-sidebar">
        <select class="language">
    <option value="/webgl/lessons/webgl-3d-camera.html" >English</a>
    <option value="/webgl/lessons/fr/webgl-3d-camera.html" >Français</a>
    <option value="/webgl/lessons/ja/webgl-3d-camera.html" >日本語</a>
    <option value="/webgl/lessons/ko/webgl-3d-camera.html" selected>한국어</a>
    <option value="/webgl/lessons/pl/webgl-3d-camera.html" >Polski</a>
    <option value="/webgl/lessons/pt-br/webgl-3d-camera.html" >Portuguese</a>
    <option value="/webgl/lessons/ru/webgl-3d-camera.html" >Русский</a>
    <option value="/webgl/lessons/zh_cn/webgl-3d-camera.html" >简体中文</a>
</select>


        <div id="toc">
          <ul>  <li>기초</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-fundamentals.html">기초</a></li>
<li><a href="/webgl/lessons/ko/webgl-how-it-works.html">작동 원리</a></li>
<li><a href="/webgl/lessons/ko/webgl-shaders-and-glsl.html">Shader 및 GLSL</a></li>
<li><a href="/webgl/lessons/resources/webgl-state-diagram.html">WebGL 상태 다이어그램</a></li>
        </ul>
  <li>이미지 처리</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-image-processing.html">이미지 처리</a></li>
<li><a href="/webgl/lessons/ko/webgl-image-processing-continued.html">이미지 처리 심화</a></li>
        </ul>
  <li>2D Translation, Rotation, Scale, 행렬 수학</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-2d-translation.html">2D Translation</a></li>
<li><a href="/webgl/lessons/ko/webgl-2d-rotation.html">2D Rotation</a></li>
<li><a href="/webgl/lessons/ko/webgl-2d-scale.html">2D Scale</a></li>
<li><a href="/webgl/lessons/ko/webgl-2d-matrices.html">2D 행렬</a></li>
        </ul>
  <li>3D</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-3d-orthographic.html">3D Orthographic</a></li>
<li><a href="/webgl/lessons/ko/webgl-3d-perspective.html">3D Perspective</a></li>
<li><a href="/webgl/lessons/ko/webgl-3d-camera.html">3D 카메라</a></li>
        </ul>
  <li>조명</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-3d-lighting-directional.html">Directional Lighting</a></li>
<li><a href="/webgl/lessons/ko/webgl-3d-lighting-point.html">Point Lighting</a></li>
<li><a href="/webgl/lessons/ko/webgl-3d-lighting-spot.html">Spot Lighting</a></li>
        </ul>
  <li>구조와 구성</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-less-code-more-fun.html">Less Code, More Fun</a></li>
<li><a href="/webgl/lessons/ko/webgl-drawing-multiple-things.html">여러 물체 그리기</a></li>
<li><a href="/webgl/lessons/ko/webgl-scene-graph.html">장면 그래프</a></li>
        </ul>
  <li>Geometry</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-3d-geometry-lathe.html">Geometry - Lathe</a></li>
<li><a href="/webgl/lessons/ko/webgl-load-obj.html">Loading .obj files</a></li>
<li><a href="/webgl/lessons/ko/webgl-load-obj-w-mtl.html">Loading .obj w .mtl files</a></li>
        </ul>
  <li>텍스처</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-3d-textures.html">텍스처</a></li>
<li><a href="/webgl/lessons/ko/webgl-data-textures.html">데이터 텍스처</a></li>
<li><a href="/webgl/lessons/ko/webgl-2-textures.html">2개 이상의 텍스처 사용</a></li>
<li><a href="/webgl/lessons/ko/webgl-cors-permission.html">Cross Origin Image</a></li>
<li><a href="/webgl/lessons/ko/webgl-3d-perspective-correct-texturemapping.html">원근 교정 텍스처 매핑</a></li>
<li><a href="/webgl/lessons/ko/webgl-planar-projection-mapping.html">평면 및 원근 투영 매핑</a></li>
        </ul>
  <li>텍스처 렌더링</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-render-to-texture.html">텍스처 렌더링</a></li>
        </ul>
  <li>그림자</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-shadows.html">Shadows</a></li>
        </ul>
  <li>기법</li>
        <ul>
            <li>2D</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-2d-drawimage.html">2D - DrawImage</a></li>
<li><a href="/webgl/lessons/ko/webgl-2d-matrix-stack.html">2D - Matrix Stack</a></li>
<li><a href="/webgl/lessons/ko/webgl-sprites.html">Sprite</a></li>
        </ul>
  <li>3D</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-cube-maps.html">Cubemaps</a></li>
<li><a href="/webgl/lessons/ko/webgl-environment-maps.html">Environment maps</a></li>
<li><a href="/webgl/lessons/ko/webgl-skybox.html">Skyboxes</a></li>
<li><a href="/webgl/lessons/ko/webgl-skinning.html">Skinning</a></li>
<li><a href="/webgl/lessons/ko/webgl-fog.html">Fog</a></li>
<li><a href="/webgl/lessons/ko/webgl-picking.html">Picking (clicking on stuff)</a></li>
        </ul>
  <li>Text</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-text-html.html">Text - HTML</a></li>
<li><a href="/webgl/lessons/ko/webgl-text-canvas2d.html">Text - Canvas 2D</a></li>
<li><a href="/webgl/lessons/ko/webgl-text-texture.html">Text - Using a Texture</a></li>
<li><a href="/webgl/lessons/ko/webgl-text-glyphs.html">Text - Using a Glyph Texture</a></li>
        </ul>
  <li>텍스처</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-ramp-textures.html">Ramp Textures (Toon Shading)</a></li>
        </ul>
  <li>GPGPU</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-gpgpu.html">GPGPU</a></li>
        </ul>
        </ul>
  <li>Tip</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-smallest-programs.html">Smallest Programs</a></li>
<li><a href="/webgl/lessons/ko/webgl-drawing-without-data.html">Drawing Without Data</a></li>
<li><a href="/webgl/lessons/ko/webgl-shadertoy.html">Shadertoy</a></li>
<li><a href="/webgl/lessons/ko/webgl-pulling-vertices.html">Pulling Vertices</a></li>
        </ul>
  <li>최적화</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-indexed-vertices.html">Indexed Vertices (gl.drawElements)</a></li>
<li><a href="/webgl/lessons/ko/webgl-instanced-drawing.html">Instanced Drawing</a></li>
        </ul>
  <li>Misc</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-setup-and-installation.html">설정 및 설치</a></li>
<li><a href="/webgl/lessons/ko/webgl-boilerplate.html">Boilerplate</a></li>
<li><a href="/webgl/lessons/ko/webgl-resizing-the-canvas.html">Resizing the Canvas</a></li>
<li><a href="/webgl/lessons/ko/webgl-animation.html">애니메이션</a></li>
<li><a href="/webgl/lessons/ko/webgl-points-lines-triangles.html">점, 선, 삼각형</a></li>
<li><a href="/webgl/lessons/ko/webgl-multiple-views.html">Multiple Views, Multiple Canvases</a></li>
<li><a href="/webgl/lessons/ko/webgl-visualizing-the-camera.html">Visualizing the Camera</a></li>
<li><a href="/webgl/lessons/ko/webgl-and-alpha.html">WebGL Alpha</a></li>
<li><a href="/webgl/lessons/ko/webgl-2d-vs-3d-library.html">2D vs 3D 라이브러리</a></li>
<li><a href="/webgl/lessons/ko/webgl-anti-patterns.html">Anti Pattern</a></li>
<li><a href="/webgl/lessons/ko/webgl-matrix-vs-math.html">WebGL 행렬 vs 수학 행렬</a></li>
<li><a href="/webgl/lessons/ko/webgl-precision-issues.html">정밀도 문제</a></li>
<li><a href="/webgl/lessons/ko/webgl-tips.html#screenshot">Screenshot 찍기</a></li>
<li><a href="/webgl/lessons/ko/webgl-tips.html#preservedrawingbuffer">Canvas Clear 방지</a></li>
<li><a href="/webgl/lessons/ko/webgl-tips.html#tabindex">캔버스 키보드 입력</a></li>
<li><a href="/webgl/lessons/ko/webgl-tips.html#html-background">WebGL 배경 제작</a></li>
<li><a href="/webgl/lessons/ko/webgl-cross-platform-issues.html">Cross Platform 문제</a></li>
<li><a href="/webgl/lessons/ko/webgl-qna.html">질문 및 답변</a></li>
        </ul>
  <li>참고</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-attributes.html">Attribute</a></li>
<li><a href="/webgl/lessons/ko/webgl-texture-units.html">Texture Unit</a></li>
<li><a href="/webgl/lessons/ko/webgl-framebuffers.html">Framebuffer</a></li>
<li><a href="/webgl/lessons/ko/webgl-readpixels.html">readPixels</a></li>
<li><a href="/webgl/lessons/ko/webgl-references.html">참고 자료</a></li>
        </ul></ul>
<ul>
  <li><a href="/docs/">도우미 API 문서</a></li>
  <li><a href="https://twgljs.org">TWGL, 가벼운 WebGL 라이브러리</a></li>
  <li><a href="https://github.com/gfxfundamentals/webgl-fundamentals">Github</a></li>
</ul>

        </div>
    </div>
    <div class="lesson-comments">
        
    <div>이슈/버그는? <a href="https://github.com/gfxfundamentals/webgl-fundamentals/issues">Github</a>에 이슈를 만들어주세요.</div>
    <div class="lesson-comment-notes">
      코드 블록은 <b>&lt;pre&gt;&lt;code&gt;</b>여기에 코드 입력<b>&lt;/code&gt;&lt;/pre&gt;</b>를 사용해주세요
    </div>
  

        <div id="disqus_thread"></div>
        <script>
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'webglfundamentals'; // required: replace example with your forum shortname
            var disqus_identifier = 'WebGL 3D - 카메라';
            var disqus_title = 'WebGL 3D - 카메라';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                if (window.location.hostname.indexOf("webglfundamentals.org") < 0) {
                    return;
                }
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
  </div>
</div>
</body>
<script>
const settings = {
  contribTemplate: "Thank you <a href=\"${html_url}\"><img src=\"${avatar_url}\"> ${login}</a><br>for <a href=\"https://github.com/${owner}/${repo}/commits?author=${login}\">${contributions} contributions</a>",
  owner: "gfxfundamentals",
  repo: "webgl-fundamentals",
};
</script>
<script src="/contributors.js"></script>
<script src="/3rdparty/jquery-1.11.2.min.js"></script>
<script src="/webgl/lessons/resources/prettify.js"></script>
<script src="/webgl/lessons/resources/lesson.js" type="module"></script>
<script>
(function() {
  if (window.location.hostname.indexOf("webglfundamentals.org") < 0) {
      return;
  }

  function addScript(src, type, fn) {
    const script = document.createElement('script');
    const firstScript = document.getElementsByTagName('script')[0];
    script.async = true;
    script.defer = true;
    script.type = type || 'javascript';
    if (fn) {
      script.addEventListener('load', fn);
    }
    script.src = src;
    firstScript.parentNode.insertBefore(script, firstScript);
  }

  // can't do this because it would eat contexts
  //addScript('//gpustats.org/stats.js', 'module');

  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59804936-1', 'auto');
  ga('send', 'pageview');
}());
</script>


</html>



