<!DOCTYPE html>
<!-- this file is auto-generated from webgl/lessons/ko/webgl-3d-lighting-directional.md. Do not edited directly -->
<!--
Copyright 2021 GFXFundamentals.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

*   Redistributions of source code must retain the above copyright
    notice, this list of conditions and the following disclaimer.

*   Redistributions in binary form must reproduce the above
    copyright notice, this list of conditions and the following disclaimer
    in the documentation and/or other materials provided with the
    distribution.

*   Neither the name of GFXFundamentals. nor the names of his
    contributors may be used to endorse or promote products derived from
    this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-->
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="WebGL에서 방향성 조명을 구현하는 방법">
<meta name="keywords" content="webgl graphics">
<meta name="thumbnail" content="https://webglfundamentals.org/webgl/lessons/screenshots/webgl-3d-lighting-directional_ko.jpg">

<meta property="og:title" content="WebGL 3D - 방향성 조명">
<meta property="og:type" content="website">
<meta property="og:image" content="https://webglfundamentals.org/webgl/lessons/screenshots/webgl-3d-lighting-directional_ko.jpg">
<meta property="og:description" content="WebGL에서 방향성 조명을 구현하는 방법">
<meta property="og:url" content="https://webglfundamentals.org/webgl/lessons/ko/webgl-3d-lighting-directional.html">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@greggman">
<meta name="twitter:creator" content="@greggman">
<meta name="twitter:domain" content="webglfundamentals.org">
<meta name="twitter:title" content="WebGL 3D - 방향성 조명">
<meta name="twitter:url" content="https://webglfundamentals.org/webgl/lessons/ko/webgl-3d-lighting-directional.html">
<meta name="twitter:description" content="WebGL에서 방향성 조명을 구현하는 방법">
<meta name="twitter:image:src" content="https://webglfundamentals.org/webgl/lessons/screenshots/webgl-3d-lighting-directional_ko.jpg">

<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@graph":[
    {
      "@type":"WebSite",
      "@id":"https://webglfundamentals.org/#website",
      "url":"https://webglfundamentals.org/",
      "name":"WebglFundamentals"
    },
    {
      "@type":"ImageObject",
      "@id":"https://webglfundamentals.org/webgl/lessons/ko/webgl-3d-lighting-directional.html#primaryimage",
      "url":"https://webglfundamentals.org/webgl/lessons/screenshots/webgl-3d-lighting-directional_ko.jpg",
      "width":1200,
      "height":630
    },
    {
      "@type":"WebPage",
      "@id":"https://webglfundamentals.org/webgl/lessons/ko/webgl-3d-lighting-directional.html#webpage",
      "url":"https://webglfundamentals.org/webgl/lessons/ko/webgl-3d-lighting-directional.html",
      "inLanguage":"ko",
      "name":"WebGL 3D - 방향성 조명",
      "keywords":"webgl graphics programming",
      "isPartOf":{
        "@id":"https://webglfundamentals.org/#website"
      },
      "primaryImageOfPage":{
        "@id":"https://webglfundamentals.org/webgl/lessons/ko/webgl-3d-lighting-directional.html#primaryimage"
      }
    }
  ]
}
</script>


<title>WebGL 3D - 방향성 조명</title>
<link href="/webgl/lessons/resources/webglfundamentals-icon.png" rel="shortcut icon" type="image/png">
<link rel="stylesheet" href="/webgl/lessons/lang.css">
<link rel="stylesheet" href="/webgl/lessons/ko/lang.css">
<link rel="stylesheet" href="/webgl/lessons/resources/lesson.css">

  <link rel="alternate" hreflang="en" href="https://webglfundamentals.org/webgl/lessons/webgl-3d-lighting-directional.html">
  <link rel="alternate" hreflang="fr" href="https://webglfundamentals.org/webgl/lessons/fr/webgl-3d-lighting-directional.html">
  <link rel="alternate" hreflang="ja" href="https://webglfundamentals.org/webgl/lessons/ja/webgl-3d-lighting-directional.html">
  <link rel="alternate" hreflang="ko" href="https://webglfundamentals.org/webgl/lessons/ko/webgl-3d-lighting-directional.html">
  <link rel="alternate" hreflang="pl" href="https://webglfundamentals.org/webgl/lessons/pl/webgl-3d-lighting-directional.html">
  <link rel="alternate" hreflang="pt-br" href="https://webglfundamentals.org/webgl/lessons/pt-br/webgl-3d-lighting-directional.html">
  <link rel="alternate" hreflang="ru" href="https://webglfundamentals.org/webgl/lessons/ru/webgl-3d-lighting-directional.html">
  <link rel="alternate" hreflang="zh_cn" href="https://webglfundamentals.org/webgl/lessons/zh_cn/webgl-3d-lighting-directional.html">




</head>
<body>
<div class="webgl_navbar">
  <div>
    <select class="language">
    <option value="/webgl/lessons/webgl-3d-lighting-directional.html" >English</a>
    <option value="/webgl/lessons/fr/webgl-3d-lighting-directional.html" >Français</a>
    <option value="/webgl/lessons/ja/webgl-3d-lighting-directional.html" >日本語</a>
    <option value="/webgl/lessons/ko/webgl-3d-lighting-directional.html" selected>한국어</a>
    <option value="/webgl/lessons/pl/webgl-3d-lighting-directional.html" >Polski</a>
    <option value="/webgl/lessons/pt-br/webgl-3d-lighting-directional.html" >Portuguese</a>
    <option value="/webgl/lessons/ru/webgl-3d-lighting-directional.html" >Русский</a>
    <option value="/webgl/lessons/zh_cn/webgl-3d-lighting-directional.html" >简体中文</a>
</select>


    <a href="#toc">목차</a>
  </div>
</div>
<div class="webgl_header">
  <h1><a href="/webgl/lessons/ko/">WebGLFundamentals.org</a></h1>
<style>
#forkongithub>div {
    background: #000;
    color: #fff;
    font-family: arial,sans-serif;
    text-align: center;
    font-weight: bold;
    padding: 5px 40px;
    font-size: 0.9rem;
    line-height: 1.3rem;
    position: relative;
    transition: 0.5s;
    display: block;
    width: 400px;
    position: absolute;
    top: 0;
    right: 0;
    transform: translateX(200px) rotate(45deg) translate(10px,70px);
    box-shadow: 4px 4px 10px rgba(0,0,0,0.8);
    pointer-events: auto;
}
#forkongithub a {
  text-decoration: none;
  color: #fff;
}
#forkongithub>div:hover {
    background: #c11;
    color: #fff;
}
#forkongithub .contributors {
  font-size: 0.75rem;
  background: rgba(255,255,255,0.2);
  line-height: 1.2;
  padding: 0.1em;
}
#forkongithub>div::before,#forkongithub>div::after {
    content: "";
    width: 100%;
    display: block;
    position: absolute;
    top: 1px;
    left: 0;
    height: 1px;
    background: #fff;
}
#forkongithub>div::after {
    bottom: 1px;
    top: auto;
}

#forkongithub{
    z-index: 9999;
    /* needed for firefox */
    overflow: hidden;
    width: 300px;
    height: 300px;
    position: absolute;
    right: 0;
    top: 0;
    pointer-events: none;
}
#forkongithub svg{
  width: 1em;
  height: 1em;
  vertical-align: middle;
}
#forkongithub img {
  width: 1em;
  height: 1em;
  border-radius: 100%;
  vertical-align: middle;
}

@media (max-width: 900px) {
    #forkongithub>div {
        line-height: 1.2rem;
    }
}
@media (max-width: 700px) {
  #forkongithub {
    display: none;
  }
}
@media (max-width: 410px) {
    #forkongithub>div {
        font-size: 0.7rem;
        transform: translateX(150px) rotate(45deg) translate(20px,40px);
    }
}

</style>
<div id="forkongithub"><div><div><a href="https://github.com/gfxfundamentals/webgl-fundamentals">Fix, Fork, Contribute <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 136 133" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(3.92891,0,0,3.92891,67.867,129.125)">
        <path d="M0,-31.904C-8.995,-31.904 -16.288,-24.611 -16.288,-15.614C-16.288,-8.417 -11.621,-2.312 -5.148,-0.157C-4.333,-0.008 -4.036,-0.511 -4.036,-0.943C-4.036,-1.329 -4.05,-2.354 -4.058,-3.713C-8.589,-2.729 -9.545,-5.897 -9.545,-5.897C-10.286,-7.779 -11.354,-8.28 -11.354,-8.28C-12.833,-9.29 -11.242,-9.27 -11.242,-9.27C-9.607,-9.155 -8.747,-7.591 -8.747,-7.591C-7.294,-5.102 -4.934,-5.821 -4.006,-6.238C-3.858,-7.29 -3.438,-8.008 -2.972,-8.415C-6.589,-8.826 -10.392,-10.224 -10.392,-16.466C-10.392,-18.244 -9.757,-19.698 -8.715,-20.837C-8.883,-21.249 -9.442,-22.905 -8.556,-25.148C-8.556,-25.148 -7.188,-25.586 -4.076,-23.478C-2.777,-23.84 -1.383,-24.02 0.002,-24.026C1.385,-24.02 2.779,-23.84 4.08,-23.478C7.19,-25.586 8.555,-25.148 8.555,-25.148C9.444,-22.905 8.885,-21.249 8.717,-20.837C9.761,-19.698 10.392,-18.244 10.392,-16.466C10.392,-10.208 6.583,-8.831 2.954,-8.428C3.539,-7.925 4.06,-6.931 4.06,-5.411C4.06,-3.234 4.04,-1.477 4.04,-0.943C4.04,-0.507 4.333,0 5.16,-0.159C11.628,-2.318 16.291,-8.419 16.291,-15.614C16.291,-24.611 8.997,-31.904 0,-31.904" style="fill:white;"/>
    </g>
</svg>
</a></div></div></div>

</div>


<div class="container">
  <div class="lesson-title">
    <h1>WebGL 3D - 방향성 조명</h1>
  </div>
  <div class="lesson">
    <div class="lesson-main">
      <p>이 글은 WebGL 관련 시리즈의 한 부분으로, 첫 번째는 <a href="webgl-fundamentals.html">WebGL 기초</a>였습니다.
또한 이 글은 <a href="webgl-3d-camera.html">WebGL 3D 카메라</a>에서 이어집니다.
아직 읽지 않았다면 <a href="webgl-3d-camera.html">거기</a>부터 시작하는 게 좋습니다.</p>
<p>조명을 구현하는 방법에는 여러 가지가 있습니다.
아마 가장 간단한 건 <em>방향성 조명</em>일 겁니다.</p>
<p>방향성 조명은 빛이 한 방향에서 균일하게 들어온다고 가정합니다.
맑은 날의 태양이 종종 방향성 조명으로 여겨지는데요.
너무 멀리 있어서 빛살이 물체의 표면 모두를 평행하게 비추는 걸로 간주될 수 있습니다.</p>
<p>실제로 방향성 조명을 계산하는 것은 굉장히 쉽습니다.
빛이 어떤 방향으로 가고 있는지 알고 물체의 표면이 향하는 방향을 알면, 두 방향의 <em>스칼라곱</em>을 구할 수 있고 두 방향 사이의 각도에 대한 cosine을 얻을 수 있습니다.</p>
<p><div class="webgl_diagram_container">
  <iframe class="webgl_example " style="width: 400px; height: 300px;" src="/webgl/lessons/resources/dot-product.html"></iframe>
  <div class="webgl_center">점을 드래그해보세요</div>
</div>

</p>
<p>점을 끌어서 서로 정확히 반대에 두면 스칼라곱이 -1인 것을 알 수 있습니다.
정확히 같은 지점에 있다면 스칼라곱은 1이 되죠.</p>
<p>그게 어떻게 유용할까요?
3D 객체의 표면이 향하는 방향을 알고 빛이 비추는 방향을 안다면, 그 스칼라곱을 구할 수 있고, 빛이 표면을 직접 가리킨다면 1이 주어지고 정반대로 가리키면 -1이 주어집니다.</p>
<p><div class="webgl_diagram_container">
  <iframe class="webgl_example " style="width: 500px; height: 400px;" src="/webgl/lessons/resources/directional-lighting.html"></iframe>
  <div class="webgl_center">방향을 회전시켜보세요</div>
</div>

</p>
<p>색상을 해당 스칼라곱으로 곱할 수 있습니다.
그리고 짜잔! 빛입니다!</p>
<p>한 가지 문제는 3D 객체의 표면이 향하는 방향을 어떻게 알 수 있을까요?</p>
<h2 id="-">법선 소개</h2>
<p>법선은 라틴어 <em>norma</em>에서 유래한 것으로, carpenter&#39;s square라고 불리는데요.
Carpenter&#39;s square가 직각인 것처럼, 법선은 선이나 표면에 대해 직각을 이룹니다.
3D 그래픽에서 법선은 표면이 향하는 방향을 설명하는 단위 벡터를 뜻하는 단어입니다.</p>
<p>다음은 큐브와 구체에 대한 법선입니다.</p>
<p><div class="webgl_diagram_container">
  <iframe class="webgl_example " style="width: 400px; height: 300px;" src="/webgl/lessons/resources/normals.html"></iframe>
</div>

</p>
<p>객체에서 튀어나온 선들은 각 정점에 대한 법선을 나타냅니다.</p>
<p>큐브는 각 모서리에 3개의 법선을 가지는데요.
큐브의 각 면이 향하는 방향을 나타내려면 3개의 다른 법선이 필요하기 때문입니다.</p>
<p>또한 법선은 방향에 따라 +x는 <span style="color: red;">빨강</span>, 위쪽은 <span style="color: green;">초록</span>, +z는 <span style="color: blue;">파랑</span>으로 채색됩니다.</p>
<p>그러면 <a href="webgl-3d-camera.html">이전 예제</a>의 &#39;F&#39;에 법선을 추가해서 조명을 비춰봅시다.
<code class="notranslate" translate="no">F</code>가 박스형이고 면이 x, y, z축에 정렬되어 있기 때문에 굉장히 쉽습니다.
앞쪽을 향하고 있는 것은 법선 <code class="notranslate" translate="no">0, 0, 1</code>을 가집니다.
뒤쪽을 향하는 것은 <code class="notranslate" translate="no">0, 0, -1</code>입니다.
왼쪽을 향하는 것은 <code class="notranslate" translate="no">-1, 0, 0</code>, 오른쪽을 향하는 것은 <code class="notranslate" translate="no">1, 0, 0</code>입니다.
위쪽은 <code class="notranslate" translate="no">0, 1, 0</code>이고 아래쪽은 <code class="notranslate" translate="no">0, -1, 0</code>입니다.</p>
<pre class="prettyprint notranslate" translate="no"><code class="notranslate" translate="no">function setNormals(gl) {
  var normals = new Float32Array([
    // 왼쪽 열 앞쪽
    0, 0, 1,
    0, 0, 1,
    0, 0, 1,
    0, 0, 1,
    0, 0, 1,
    0, 0, 1,

    // 상단 획 앞쪽
    0, 0, 1,
    0, 0, 1,
    0, 0, 1,
    0, 0, 1,
    0, 0, 1,
    0, 0, 1,

    // 중간 획 앞쪽
    0, 0, 1,
    0, 0, 1,
    0, 0, 1,
    0, 0, 1,
    0, 0, 1,
    0, 0, 1,

    // 왼쪽 열 뒤쪽
    0, 0, -1,
    0, 0, -1,
    0, 0, -1,
    0, 0, -1,
    0, 0, -1,
    0, 0, -1,

    // 상단 획 뒤쪽
    0, 0, -1,
    0, 0, -1,
    0, 0, -1,
    0, 0, -1,
    0, 0, -1,
    0, 0, -1,

    // 중간 획 뒤쪽
    0, 0, -1,
    0, 0, -1,
    0, 0, -1,
    0, 0, -1,
    0, 0, -1,
    0, 0, -1,

    // 상단
    0, 1, 0,
    0, 1, 0,
    0, 1, 0,
    0, 1, 0,
    0, 1, 0,
    0, 1, 0,

    // 상단 획 오른쪽
    1, 0, 0,
    1, 0, 0,
    1, 0, 0,
    1, 0, 0,
    1, 0, 0,
    1, 0, 0,

    // 상단 획 아래쪽
    0, -1, 0,
    0, -1, 0,
    0, -1, 0,
    0, -1, 0,
    0, -1, 0,
    0, -1, 0,

    // 상단과 중간 획 사이
    1, 0, 0,
    1, 0, 0,
    1, 0, 0,
    1, 0, 0,
    1, 0, 0,
    1, 0, 0,

    // 중간 획의 위쪽
    0, 1, 0,
    0, 1, 0,
    0, 1, 0,
    0, 1, 0,
    0, 1, 0,
    0, 1, 0,

    // 중간 획의 오른쪽
    1, 0, 0,
    1, 0, 0,
    1, 0, 0,
    1, 0, 0,
    1, 0, 0,
    1, 0, 0,

    // 중간 획의 아래쪽
    0, -1, 0,
    0, -1, 0,
    0, -1, 0,
    0, -1, 0,
    0, -1, 0,
    0, -1, 0,

    // 하단의 오른쪽
    1, 0, 0,
    1, 0, 0,
    1, 0, 0,
    1, 0, 0,
    1, 0, 0,
    1, 0, 0,

    // 하단
    0, -1, 0,
    0, -1, 0,
    0, -1, 0,
    0, -1, 0,
    0, -1, 0,
    0, -1, 0,

    // 왼쪽 면
    -1, 0, 0,
    -1, 0, 0,
    -1, 0, 0,
    -1, 0, 0,
    -1, 0, 0,
    -1, 0, 0
  ]);
  gl.bufferData(gl.ARRAY_BUFFER, normals, gl.STATIC_DRAW);
}
</code></pre><p>그리고 이것들을 설정하는데요.
그 동안 정점 색상을 제거하여 조명을 보기 쉽게 합시다.</p>
<pre class="prettyprint notranslate" translate="no"><code class="notranslate" translate="no">// 정점 데이터가 어디로 가야하는지 탐색
var positionLocation = gl.getAttribLocation(program, &quot;a_position&quot;);
-var colorLocation = gl.getAttribLocation(program, &quot;a_color&quot;);
+var normalLocation = gl.getAttribLocation(program, &quot;a_normal&quot;);

...

-// 색상을 넣을 버퍼 생성
-var colorBuffer = gl.createBuffer();
-// ARRAY_BUFFER에 바인딩 (ARRAY_BUFFER = colorBuffer)
-gl.bindBuffer(gl.ARRAY_BUFFER, colorBuffer);
-// 버퍼에 geometry 데이터 넣기
-setColors(gl);

+// 법선 데이터를 넣을 버퍼 생성
+var normalBuffer = gl.createBuffer();
+// ARRAY_BUFFER에 바인딩 (ARRAY_BUFFER = normalBuffer)
+gl.bindBuffer(gl.ARRAY_BUFFER, normalBuffer);
+// 법선 데이터를 버퍼에 넣기
+setNormals(gl);
</code></pre><p>그리고 렌더링할 때</p>
<pre class="prettyprint notranslate" translate="no"><code class="notranslate" translate="no">-// color attribute 활성화
-gl.enableVertexAttribArray(colorLocation);
-
-// color buffer 바인딩
-gl.bindBuffer(gl.ARRAY_BUFFER, colorBuffer);
-
// colorBuffer(ARRAY_BUFFER)에서 데이터 가져오는 방법을 attribute에 지시
-var size = 3;                 // 반복마다 3개의 컴포넌트
-var type = gl.UNSIGNED_BYTE;  // 데이터는 unsigned 8bit 값
-var normalize = true;         // 데이터 정규화 (0-255에서 0-1로 전환)
-var stride = 0;               // 0 = 다음 위치를 가져오기 위해 반복마다 size * sizeof(type) 만큼 앞으로 이동
-var offset = 0;               // 버퍼의 처음부터 시작
-gl.vertexAttribPointer(colorLocation, size, type, normalize, stride, offset)

+// normal attribute 활성화
+gl.enableVertexAttribArray(normalLocation);
+
+// normal buffer 바인딩
+gl.bindBuffer(gl.ARRAY_BUFFER, normalBuffer);
+
+// normalBuffer(ARRAY_BUFFER)에서 데이터 가져오는 방법을 attribute에 지시
+var size = 3;          // 반복마다 3개의 컴포넌트
+var type = gl.FLOAT;   // 데이터는 32비트 부동 소수점
+var normalize = false; // 데이터 정규화 (0-255에서 0-1로 전환)
+var stride = 0;        // 0 = 다음 위치를 가져오기 위해 반복마다 size * sizeof(type) 만큼 앞으로 이동
+var offset = 0;        // 버퍼의 처음부터 시작
+gl.vertexAttribPointer(normalLocation, size, type, normalize, stride, offset)
</code></pre><p>이제 셰이더가 이걸 사용하도록 만들어야 합니다.</p>
<p>먼저 정점 셰이더를 통해 프래그먼트 셰이더로 normal을 전달합니다.</p>
<pre class="prettyprint notranslate" translate="no"><code class="notranslate" translate="no">attribute vec4 a_position;
-attribute vec4 a_color;
+attribute vec3 a_normal;

uniform mat4 u_matrix;

-varying vec4 v_color;
+varying vec3 v_normal;

void main() {
  // 위치에 행렬 곱하기
  gl_Position = u_matrix * a_position;

-  // 색상을 프래그먼트 셰이더로 전달
-  v_color = a_color;

+  // 법선을 프래그먼트 셰이더로 전달
+  v_normal = a_normal;
}
</code></pre><p>그리고 프래그먼트 셰이더는 빛의 방향과 법선의 스칼라곱을 이용한 수식을 수행할 겁니다.</p>
<pre class="prettyprint notranslate" translate="no"><code class="notranslate" translate="no">precision mediump float;

// 정점 셰이더에서 전달
-varying vec4 v_color;
+varying vec3 v_normal;

+uniform vec3 u_reverseLightDirection;
+uniform vec4 u_color;

void main() {
+   // v_normal이 varying이기 때문에 보간되므로 단위 벡터가 아닙니다.
+   // 정규화하면 다시 단위 벡터가 됩니다.
+   vec3 normal = normalize(v_normal);
+
+   float light = dot(normal, u_reverseLightDirection);

*   gl_FragColor = u_color;

+   // 색상 부분(alpha 제외)에만 light 곱하기
+   gl_FragColor.rgb *= light;
}
</code></pre><p>그런 다음 <code class="notranslate" translate="no">u_color</code>와 <code class="notranslate" translate="no">u_reverseLightDirection</code>의 위치를 찾아야 합니다.</p>
<pre class="prettyprint notranslate" translate="no"><code class="notranslate" translate="no">  // Uniform 탐색
  var matrixLocation = gl.getUniformLocation(program, &quot;u_matrix&quot;);
+  var colorLocation = gl.getUniformLocation(program, &quot;u_color&quot;);
+  var reverseLightDirectionLocation =
+      gl.getUniformLocation(program, &quot;u_reverseLightDirection&quot;);
</code></pre><p>그리고 이것들을 설정해야 합니다.</p>
<pre class="prettyprint notranslate" translate="no"><code class="notranslate" translate="no">  // 행렬 설정
  gl.uniformMatrix4fv(matrixLocation, false, worldViewProjectionMatrix);

+  // 사용할 색상 설정
+  gl.uniform4fv(colorLocation, [0.2, 1, 0.2, 1]); // 초록색
+
+  // 빛의 방향 설정
+  gl.uniform3fv(reverseLightDirectionLocation, m4.normalize([0.5, 0.7, 1]));
</code></pre><p>앞서 살펴본 <code class="notranslate" translate="no">normalize</code>는 우리가 넣은 값을 단위 벡터로 만듭니다.
<code class="notranslate" translate="no">x = 0.5</code>, +<code class="notranslate" translate="no">x</code>는 오른쪽에 있는 빛이 왼쪽을 가리키는 걸 의미합니다.
<code class="notranslate" translate="no">y = 0.7</code>, +<code class="notranslate" translate="no">y</code>는 위쪽에 있는 빛이 아래쪽을 가리키는 걸 의미합니다.
<code class="notranslate" translate="no">z = 1</code>, +<code class="notranslate" translate="no">z</code>는 앞쪽에 있는 빛이 scene 쪽을 가리키는 걸 의미합니다.
상대 값은 방향이 대부분 scene을 가리키고 아래쪽보단 오른쪽을 가리키는 걸 의미합니다.</p>
<p>그리고 다음은 결과입니다.</p>
<p><div class="webgl_example_container">
  <iframe class="webgl_example" style=" " src="/webgl/resources/editor.html?url=/webgl/lessons/..%2Fwebgl-3d-lighting-directional.html"></iframe>
  <a class="webgl_center" href="/webgl/lessons/../webgl-3d-lighting-directional.html" target="_blank">새 창을 열려면 여기를 클릭</a>
</div>

</p>
<p>F를 회전시키셨다면 뭔가 눈치채셨을 겁니다.
F는 회전하지만 조명은 변하지 않는데요.
우리는 F가 회전함에 따라 빛의 방향을 향하는 부분이 가장 밝기를 원합니다.</p>
<p>이걸 고치기 위해 객체의 방향이 변경될 때 법선의 방향을 변경해야 합니다.
위치에 했던 것처럼 법선에 어떤 행렬을 곱할 수 있는데요.
가장 확실한 행렬은 <code class="notranslate" translate="no">world</code> 행렬입니다.
현재는 <code class="notranslate" translate="no">u_matrix</code>라 불리는 행렬 하나만 전달하고 있는데요.
2개의 행렬을 전달하도록 바꿔봅시다.
<code class="notranslate" translate="no">u_world</code>로 명명한 것은 <code class="notranslate" translate="no">world</code> 행렬이 됩니다.
<code class="notranslate" translate="no">u_worldViewProjection</code>로 명명한 또 다른 것은 현재 <code class="notranslate" translate="no">u_matrix</code>로 전달하고 있는 것입니다.</p>
<pre class="prettyprint notranslate" translate="no"><code class="notranslate" translate="no">attribute vec4 a_position;
attribute vec3 a_normal;

*uniform mat4 u_worldViewProjection;
+uniform mat4 u_world;

varying vec3 v_normal;

void main() {
  // 위치에 행렬 곱하기
*  gl_Position = u_worldViewProjection * a_position;

*  // 법선의 방향을 정하고 프래그먼트 셰이더로 전달
*  v_normal = mat3(u_world) * a_normal;
}
</code></pre><p><code class="notranslate" translate="no">a_normal</code>를 <code class="notranslate" translate="no">mat3(u_world)</code>로 곱한다는 점을 주목하세요.
이는 법선은 방향이므로 translation은 고려하지 않기 때문입니다.
행렬의 orientation 부분은 행렬의 상단 3x3 영역에만 있습니다.</p>
<p>이제 위 uniform을 찾아야 합니다.</p>
<pre class="prettyprint notranslate" translate="no"><code class="notranslate" translate="no">  // Uniform 탐색
*  var worldViewProjectionLocation =
*      gl.getUniformLocation(program, &quot;u_worldViewProjection&quot;);
+  var worldLocation = gl.getUniformLocation(program, &quot;u_world&quot;);
</code></pre><p>그리고 uniform을 업데이트하는 코드를 수정해야 합니다.</p>
<pre class="prettyprint notranslate" translate="no"><code class="notranslate" translate="no">*// 행렬 설정
*gl.uniformMatrix4fv(
*  worldViewProjectionLocation, false, worldViewProjectionMatrix);
*gl.uniformMatrix4fv(worldLocation, false, worldMatrix);
</code></pre><p>그리고 여기 결과입니다.</p>
<p><div class="webgl_example_container">
  <iframe class="webgl_example" style=" " src="/webgl/resources/editor.html?url=/webgl/lessons/..%2Fwebgl-3d-lighting-directional-world.html"></iframe>
  <a class="webgl_center" href="/webgl/lessons/../webgl-3d-lighting-directional-world.html" target="_blank">새 창을 열려면 여기를 클릭</a>
</div>

</p>
<p>F를 회전시켜서 어느 쪽이 빛의 방향을 향하는지 확인해보세요.</p>
<p>어떻게 직접 보여줄지 모르겠는 문제가 한 가지 있어 다이어그램으로 보여드리겠습니다.
우리는 <code class="notranslate" translate="no">normal</code>을 법선의 방향을 변경하는 <code class="notranslate" translate="no">u_world</code> 행렬로 곱하고 있는데요.
<code class="notranslate" translate="no">world</code> 행렬을 scale하면 무슨 일이 일어날까요?
잘못된 법선을 얻게 됩니다.</p>
<p><div class="webgl_diagram_container">
  <iframe class="webgl_example " style="width: 600px; height: 300px;" src="/webgl/lessons/resources/normals-scaled.html"></iframe>
  <div class="webgl_center">법선을 전환하려면 클릭</div>
</div>

</p>
<p><code class="notranslate" translate="no">world</code> 행렬의 역을 구하고, 열을 행으로 바꾸는 전치를 해서, 이를 대신 사용하면 올바른 답을 구할 수 있습니다.</p>
<p>위 다이어그램에서 <span style="color: #F0F;">보라색</span> 구는 크기가 바뀌지 않습니다.
왼쪽의 <span style="color: #F00;">빨간색</span> 구는 크기가 바뀌고 법선은 <code class="notranslate" translate="no">world</code> 행렬로 곱해집니다.
뭔가 잘못되었음을 알 수 있습니다.
오른쪽의 <span style="color: #00F;">파란색</span> 구는 <code class="notranslate" translate="no">world</code> 역전치행렬을 사용하고 있습니다.</p>
<p>다이어그램을 클릭하여 다른 표현들을 둘러보세요.
Scale이 극단적일 때 왼쪽의 법선(world)이 구의 표면에 수직으로 유지되지 <strong>않는</strong> 반면에 오른쪽에 있는 것(worldInverseTranspose)은 구에 대해 수직이 유지되는 걸 쉽게 확인할 수 있습니다.
마지막 모드는 모두 빨간색으로 음영 처리되는데요.
어떤 행렬을 사용했는지에 따라 바깥쪽 구 2개의 조명이 매우 다르다는 것을 알 수 있습니다.
애매한 문제이기 때문에 어느 것이 맞다고 말하기는 힘들지만, 다른 시각화로 비교해봤을 때 worldInverseTranspose를 사용하는 것이 맞다는 건 분명합니다.</p>
<p>예제에서 이를 구현하기 위해 이렇게 코드를 수정해봅시다.
먼저 셰이더를 업데이트할 겁니다.
기술적으로는 <code class="notranslate" translate="no">u_world</code>의 값만 업데이트할 수 있지만 혼란스러울 수 있기 때문에 실제 이름으로 바꿔주는 게 가장 좋습니다.</p>
<pre class="prettyprint notranslate" translate="no"><code class="notranslate" translate="no">attribute vec4 a_position;
attribute vec3 a_normal;

uniform mat4 u_worldViewProjection;
*uniform mat4 u_worldInverseTranspose;

varying vec3 v_normal;

void main() {
  // 위치에 행렬 곱하기
  gl_Position = u_worldViewProjection * a_position;

  // 법선의 방향을 정하고 프래그먼트 셰이더로 전달
*  v_normal = mat3(u_worldInverseTranspose) * a_normal;
}
</code></pre><p>그런 다음 uniform을 찾아야 합니다.</p>
<pre class="prettyprint notranslate" translate="no"><code class="notranslate" translate="no">-  var worldLocation = gl.getUniformLocation(program, &quot;u_world&quot;);
+  var worldInverseTransposeLocation =
+      gl.getUniformLocation(program, &quot;u_worldInverseTranspose&quot;);
</code></pre><p>그리고 그걸 계산하고 설정해야 합니다.</p>
<pre class="prettyprint notranslate" translate="no"><code class="notranslate" translate="no">var worldViewProjectionMatrix = m4.multiply(viewProjectionMatrix, worldMatrix);
var worldInverseMatrix = m4.inverse(worldMatrix);
var worldInverseTransposeMatrix = m4.transpose(worldInverseMatrix);

// 행렬 설정
gl.uniformMatrix4fv(
  worldViewProjectionLocation, false, worldViewProjectionMatrix);
-gl.uniformMatrix4fv(
  worldLocation, false, worldMatrix);
+gl.uniformMatrix4fv(
+  worldInverseTransposeLocation, false, worldInverseTransposeMatrix);
</code></pre><p>그리고 다음은 행렬을 전치하는 코드입니다.</p>
<pre class="prettyprint notranslate" translate="no"><code class="notranslate" translate="no">var m4 = {
  transpose: function(m) {
    return [
      m[0], m[4], m[8], m[12],
      m[1], m[5], m[9], m[13],
      m[2], m[6], m[10], m[14],
      m[3], m[7], m[11], m[15],
    ];
  },

  ...
</code></pre><p>효과가 애매하고 어떤 것도 크기가 변경되고 있지 않기 때문에 눈에 띄는 차이는 없지만 적어도 지금은 준비가 되어 있습니다.</p>
<p><div class="webgl_example_container">
  <iframe class="webgl_example" style=" " src="/webgl/resources/editor.html?url=/webgl/lessons/..%2Fwebgl-3d-lighting-directional-worldinversetranspose.html"></iframe>
  <a class="webgl_center" href="/webgl/lessons/../webgl-3d-lighting-directional-worldinversetranspose.html" target="_blank">새 창을 열려면 여기를 클릭</a>
</div>

</p>
<p>조명에 대한 첫 걸음이 명쾌했기를 바랍니다.
다음은 <a href="webgl-3d-lighting-point.html">점 조명</a>입니다.</p>
<div class="webgl_bottombar">
<h3>mat3(u_worldInverseTranspose) * a_normal 대안</h3>
<p>위 셰이더에는 이런 줄이 있습니다.</p>
<pre class="prettyprint">
v_normal = mat3(u_worldInverseTranspose) * a_normal;
</pre>
<p>우리는 이걸 할 수 있었는데요.</p>
<pre class="prettyprint">
v_normal = (u_worldInverseTranspose * vec4(a_normal, 0)).xyz;
</pre>
<p>
곱하기 전에 <code class="notranslate" translate="no">w</code>를 0으로 설정했기 때문에, 사실상 0을 제거하여 행렬에서 translation을 곱하게 됩니다.
저는 그게 더 일반적인 방법이라고 생각합니다.
mat3 방식이 더 깔끔해 보였지만 종종 이런 방식으로 해왔습니다.
</p>
<p>
또 다른 해결책은 <code class="notranslate" translate="no">u_worldInverseTranspose</code>를 <code class="notranslate" translate="no">mat3</code>로 만드는 겁니다.
이렇게 하지 않은 2가지 이유가 있는데요.
하나는 <code class="notranslate" translate="no">u_worldInverseTranspose</code> 전체에 대한 다른 요구 사항이 있을 수 있으므로 <code class="notranslate" translate="no">mat4</code> 전체를 전달하면 다른 요구 사항에 대해 사용할 수 있습니다.
또 다른 이유로 JavaScript의 모든 행렬 함수는 4x4 행렬을 만듭니다.
3x3 행렬에 대해 완전히 다른 세트를 만들거나 4x4에서 3x3으로 변환하는 것은 더 설득력 있는 이유를 제외하면 안 하는 게 나은 작업입니다.
</p>
</div>


    </div>
    <div class="lesson-sidebar">
        <select class="language">
    <option value="/webgl/lessons/webgl-3d-lighting-directional.html" >English</a>
    <option value="/webgl/lessons/fr/webgl-3d-lighting-directional.html" >Français</a>
    <option value="/webgl/lessons/ja/webgl-3d-lighting-directional.html" >日本語</a>
    <option value="/webgl/lessons/ko/webgl-3d-lighting-directional.html" selected>한국어</a>
    <option value="/webgl/lessons/pl/webgl-3d-lighting-directional.html" >Polski</a>
    <option value="/webgl/lessons/pt-br/webgl-3d-lighting-directional.html" >Portuguese</a>
    <option value="/webgl/lessons/ru/webgl-3d-lighting-directional.html" >Русский</a>
    <option value="/webgl/lessons/zh_cn/webgl-3d-lighting-directional.html" >简体中文</a>
</select>


        <div id="toc">
          <ul>  <li>기초</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-fundamentals.html">기초</a></li>
<li><a href="/webgl/lessons/ko/webgl-how-it-works.html">작동 방식</a></li>
<li><a href="/webgl/lessons/ko/webgl-shaders-and-glsl.html">셰이더와 GLSL</a></li>
<li><a href="/webgl/lessons/resources/webgl-state-diagram.html">WebGL 상태 다이어그램</a></li>
        </ul>
  <li>이미지 처리</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-image-processing.html">이미지 처리</a></li>
<li><a href="/webgl/lessons/ko/webgl-image-processing-continued.html">이미지 처리 심화</a></li>
        </ul>
  <li>2D Translation, Rotation, Scale, 행렬 수학</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-2d-translation.html">2D Translation</a></li>
<li><a href="/webgl/lessons/ko/webgl-2d-rotation.html">2D Rotation</a></li>
<li><a href="/webgl/lessons/ko/webgl-2d-scale.html">2D Scale</a></li>
<li><a href="/webgl/lessons/ko/webgl-2d-matrices.html">2D 행렬</a></li>
        </ul>
  <li>3D</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-3d-orthographic.html">3D Orthographic</a></li>
<li><a href="/webgl/lessons/ko/webgl-3d-perspective.html">3D Perspective</a></li>
<li><a href="/webgl/lessons/ko/webgl-3d-camera.html">3D 카메라</a></li>
        </ul>
  <li>조명</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-3d-lighting-directional.html">방향성 조명</a></li>
<li><a href="/webgl/lessons/ko/webgl-3d-lighting-point.html">점 조명</a></li>
<li><a href="/webgl/lessons/ko/webgl-3d-lighting-spot.html">스포트라이트</a></li>
        </ul>
  <li>구조와 구성</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-less-code-more-fun.html">Less Code, More Fun</a></li>
<li><a href="/webgl/lessons/ko/webgl-drawing-multiple-things.html">여러 물체 그리기</a></li>
<li><a href="/webgl/lessons/ko/webgl-scene-graph.html">장면 그래프</a></li>
        </ul>
  <li>Geometry</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-3d-geometry-lathe.html">Geometry - Lathe</a></li>
<li><a href="/webgl/lessons/ko/webgl-load-obj.html">.obj 파일 로딩</a></li>
<li><a href="/webgl/lessons/ko/webgl-load-obj-w-mtl.html">.mtl 파일로 .obj 로딩</a></li>
        </ul>
  <li>텍스처</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-3d-textures.html">텍스처</a></li>
<li><a href="/webgl/lessons/ko/webgl-data-textures.html">데이터 텍스처</a></li>
<li><a href="/webgl/lessons/ko/webgl-2-textures.html">2개 이상의 텍스처 사용</a></li>
<li><a href="/webgl/lessons/ko/webgl-cors-permission.html">Cross Origin Image</a></li>
<li><a href="/webgl/lessons/ko/webgl-3d-perspective-correct-texturemapping.html">원근 교정 텍스처 매핑</a></li>
<li><a href="/webgl/lessons/ko/webgl-planar-projection-mapping.html">평면 및 원근 투영 매핑</a></li>
        </ul>
  <li>텍스처 렌더링</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-render-to-texture.html">텍스처 렌더링</a></li>
        </ul>
  <li>그림자</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-shadows.html">그림자</a></li>
        </ul>
  <li>기법</li>
        <ul>
            <li>2D</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-2d-drawimage.html">2D - DrawImage</a></li>
<li><a href="/webgl/lessons/ko/webgl-2d-matrix-stack.html">2D - 행렬 스택</a></li>
<li><a href="/webgl/lessons/ko/webgl-sprites.html">Sprite</a></li>
        </ul>
  <li>3D</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-cube-maps.html">Cubemap</a></li>
<li><a href="/webgl/lessons/ko/webgl-environment-maps.html">Environment Map</a></li>
<li><a href="/webgl/lessons/ko/webgl-skybox.html">Skybox</a></li>
<li><a href="/webgl/lessons/ko/webgl-skinning.html">스키닝</a></li>
<li><a href="/webgl/lessons/ko/webgl-fog.html">Fog</a></li>
<li><a href="/webgl/lessons/ko/webgl-picking.html">Picking (clicking on stuff)</a></li>
        </ul>
  <li>Text</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-text-html.html">텍스트 - HTML</a></li>
<li><a href="/webgl/lessons/ko/webgl-text-canvas2d.html">텍스트 - Canvas 2D</a></li>
<li><a href="/webgl/lessons/ko/webgl-text-texture.html">텍스트 - 텍스처 사용</a></li>
<li><a href="/webgl/lessons/ko/webgl-text-glyphs.html">텍스트 - Glyph Texture 사용</a></li>
        </ul>
  <li>텍스처</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-ramp-textures.html">Ramp Textures (Toon Shading)</a></li>
        </ul>
  <li>GPGPU</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-gpgpu.html">GPGPU</a></li>
        </ul>
        </ul>
  <li>Tip</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-smallest-programs.html">최소 프로그램</a></li>
<li><a href="/webgl/lessons/ko/webgl-drawing-without-data.html">데이터 없이 그리기</a></li>
<li><a href="/webgl/lessons/ko/webgl-shadertoy.html">Shadertoy</a></li>
<li><a href="/webgl/lessons/ko/webgl-pulling-vertices.html">Pulling Vertices</a></li>
        </ul>
  <li>최적화</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-indexed-vertices.html">Indexed Vertices (gl.drawElements)</a></li>
<li><a href="/webgl/lessons/ko/webgl-instanced-drawing.html">Instanced Drawing</a></li>
        </ul>
  <li>Misc</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-setup-and-installation.html">설정 및 설치</a></li>
<li><a href="/webgl/lessons/ko/webgl-boilerplate.html">Boilerplate</a></li>
<li><a href="/webgl/lessons/ko/webgl-resizing-the-canvas.html">Canvas 크기 조정</a></li>
<li><a href="/webgl/lessons/ko/webgl-animation.html">애니메이션</a></li>
<li><a href="/webgl/lessons/ko/webgl-points-lines-triangles.html">점, 선, 삼각형</a></li>
<li><a href="/webgl/lessons/ko/webgl-multiple-views.html">Multiple Views, Multiple Canvases</a></li>
<li><a href="/webgl/lessons/ko/webgl-visualizing-the-camera.html">Visualizing the Camera</a></li>
<li><a href="/webgl/lessons/ko/webgl-and-alpha.html">WebGL Alpha</a></li>
<li><a href="/webgl/lessons/ko/webgl-2d-vs-3d-library.html">2D vs 3D 라이브러리</a></li>
<li><a href="/webgl/lessons/ko/webgl-anti-patterns.html">Anti Pattern</a></li>
<li><a href="/webgl/lessons/ko/webgl-matrix-vs-math.html">WebGL 행렬 vs 수학 행렬</a></li>
<li><a href="/webgl/lessons/ko/webgl-precision-issues.html">정밀도 문제</a></li>
<li><a href="/webgl/lessons/ko/webgl-tips.html#screenshot">Screenshot 찍기</a></li>
<li><a href="/webgl/lessons/ko/webgl-tips.html#preservedrawingbuffer">Canvas Clear 방지</a></li>
<li><a href="/webgl/lessons/ko/webgl-tips.html#tabindex">캔버스 키보드 입력</a></li>
<li><a href="/webgl/lessons/ko/webgl-tips.html#html-background">WebGL 배경 제작</a></li>
<li><a href="/webgl/lessons/ko/webgl-cross-platform-issues.html">Cross Platform 문제</a></li>
<li><a href="/webgl/lessons/ko/webgl-qna.html">질문 및 답변</a></li>
        </ul>
  <li>참고</li>
        <ul>
          <li><a href="/webgl/lessons/ko/webgl-attributes.html">Attribute</a></li>
<li><a href="/webgl/lessons/ko/webgl-texture-units.html">텍스처 유닛</a></li>
<li><a href="/webgl/lessons/ko/webgl-framebuffers.html">Framebuffer</a></li>
<li><a href="/webgl/lessons/ko/webgl-readpixels.html">readPixels</a></li>
<li><a href="/webgl/lessons/ko/webgl-references.html">참고 자료</a></li>
        </ul></ul>
<ul>
  <li><a href="/docs/">도우미 API 문서</a></li>
  <li><a href="https://twgljs.org">TWGL, 가벼운 WebGL 라이브러리</a></li>
  <li><a href="https://github.com/gfxfundamentals/webgl-fundamentals">Github</a></li>
</ul>

        </div>
    </div>
    <div class="lesson-comments">
        
    <div>이슈/버그는? <a href="https://github.com/gfxfundamentals/webgl-fundamentals/issues">Github</a>에 이슈를 만들어주세요.</div>
    <div class="lesson-comment-notes">
      코드 블록은 <b>&lt;pre&gt;&lt;code&gt;</b>여기에 코드 입력<b>&lt;/code&gt;&lt;/pre&gt;</b>를 사용해주세요
    </div>
  

        <div id="disqus_thread"></div>
        <script>
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'webglfundamentals'; // required: replace example with your forum shortname
            var disqus_identifier = 'WebGL 3D - 방향성 조명';
            var disqus_title = 'WebGL 3D - 방향성 조명';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                if (window.location.hostname.indexOf("webglfundamentals.org") < 0) {
                    return;
                }
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
  </div>
</div>
</body>
<script>
const settings = {
  contribTemplate: "Thank you <a href=\"${html_url}\"><img src=\"${avatar_url}\"> ${login}</a><br>for <a href=\"https://github.com/${owner}/${repo}/commits?author=${login}\">${contributions} contributions</a>",
  owner: "gfxfundamentals",
  repo: "webgl-fundamentals",
};
</script>
<script src="/contributors.js"></script>
<script src="/3rdparty/jquery-1.11.2.min.js"></script>
<script src="/webgl/lessons/resources/prettify.js"></script>
<script src="/webgl/lessons/resources/lesson.js" type="module"></script>
<script>
(function() {
  if (window.location.hostname.indexOf("webglfundamentals.org") < 0) {
      return;
  }

  function addScript(src, type, fn) {
    const script = document.createElement('script');
    const firstScript = document.getElementsByTagName('script')[0];
    script.async = true;
    script.defer = true;
    script.type = type || 'javascript';
    if (fn) {
      script.addEventListener('load', fn);
    }
    script.src = src;
    firstScript.parentNode.insertBefore(script, firstScript);
  }

  // can't do this because it would eat contexts
  //addScript('//gpustats.org/stats.js', 'module');

  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59804936-1', 'auto');
  ga('send', 'pageview');
}());
</script>


</html>



